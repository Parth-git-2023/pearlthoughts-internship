{
  "version": 3,
  "sources": ["../../../../../packages/core/admin/ee/admin/src/pages/SettingsPage/pages/ApplicationInfoPage/components/AdminSeatInfo.tsx"],
  "sourcesContent": ["import { Flex, Tooltip, Typography, Link, Grid } from '@strapi/design-system';\r\nimport { ExternalLink, WarningCircle } from '@strapi/icons';\r\nimport { useIntl } from 'react-intl';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { useRBAC } from '../../../../../../../../admin/src/hooks/useRBAC';\r\nimport { selectAdminPermissions } from '../../../../../../../../admin/src/selectors';\r\nimport { useLicenseLimits } from '../../../../../hooks/useLicenseLimits';\r\n\r\nconst BILLING_SELF_HOSTED_URL = 'https://strapi.io/billing/request-seats';\r\nconst MANAGE_SEATS_URL = 'https://strapi.io/billing/manage-seats';\r\n\r\nexport const AdminSeatInfoEE = () => {\r\n  const { formatMessage } = useIntl();\r\n  const { settings } = useSelector(selectAdminPermissions);\r\n  const {\r\n    isLoading: isRBACLoading,\r\n    allowedActions: { canRead, canCreate, canUpdate, canDelete },\r\n  } = useRBAC(settings?.users ?? {});\r\n  const {\r\n    license,\r\n    isError,\r\n    isLoading: isLicenseLoading,\r\n  } = useLicenseLimits({\r\n    // TODO: this creates a waterfall which we should avoid to render earlier, but for that\r\n    // we will have to move away from data-fetching hooks to query functions.\r\n    // Short-term we could at least implement a loader, for the user to have visual feedback\r\n    // in case the requests take a while\r\n    enabled: !isRBACLoading && canRead && canCreate && canUpdate && canDelete,\r\n  });\r\n\r\n  const isLoading = isRBACLoading || isLicenseLoading;\r\n\r\n  if (isError || isLoading || !license) {\r\n    return null;\r\n  }\r\n\r\n  const { licenseLimitStatus, enforcementUserCount, permittedSeats, type } = license;\r\n\r\n  if (!permittedSeats) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Grid.Item col={6} s={12} direction=\"column\" alignItems=\"stretch\">\r\n      <Typography variant=\"sigma\" textColor=\"neutral600\">\r\n        {formatMessage({\r\n          id: 'Settings.application.admin-seats',\r\n          defaultMessage: 'Admin seats',\r\n        })}\r\n      </Typography>\r\n      <Flex gap={2}>\r\n        <Flex>\r\n          <Typography tag=\"p\">\r\n            {formatMessage(\r\n              {\r\n                id: 'Settings.application.ee.admin-seats.count',\r\n                defaultMessage: '<text>{enforcementUserCount}</text>/{permittedSeats}',\r\n              },\r\n              {\r\n                permittedSeats,\r\n                enforcementUserCount,\r\n                text: (chunks) =>\r\n                  (\r\n                    <Typography\r\n                      fontWeight=\"semiBold\"\r\n                      textColor={enforcementUserCount > permittedSeats ? 'danger500' : undefined}\r\n                    >\r\n                      {chunks}\r\n                    </Typography>\r\n                  ) as any,\r\n              }\r\n            )}\r\n          </Typography>\r\n        </Flex>\r\n        {licenseLimitStatus === 'OVER_LIMIT' && (\r\n          <Tooltip\r\n            label={formatMessage({\r\n              id: 'Settings.application.ee.admin-seats.at-limit-tooltip',\r\n              defaultMessage: 'At limit: add seats to invite more users',\r\n            })}\r\n          >\r\n            <WarningCircle width=\"1.4rem\" height=\"1.4rem\" fill=\"danger500\" />\r\n          </Tooltip>\r\n        )}\r\n      </Flex>\r\n      {type === 'gold' ? (\r\n        <Link href={BILLING_SELF_HOSTED_URL} endIcon={<ExternalLink />}>\r\n          {formatMessage({\r\n            id: 'Settings.application.ee.admin-seats.support',\r\n            defaultMessage: 'Contact sales',\r\n          })}\r\n        </Link>\r\n      ) : (\r\n        <Link href={MANAGE_SEATS_URL} isExternal endIcon={<ExternalLink />}>\r\n          {formatMessage({\r\n            id: 'Settings.application.ee.admin-seats.add-seats',\r\n            defaultMessage: 'Manage seats',\r\n          })}\r\n        </Link>\r\n      )}\r\n    </Grid.Item>\r\n  );\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CM;AApCN,IAAM,0BAA0B;AAChC,IAAM,mBAAmB;AAElB,IAAM,kBAAkB,MAAM;AACnC,QAAM,EAAE,cAAc,IAAI,QAAQ;AAClC,QAAM,EAAE,SAAS,IAAI,YAAY,sBAAsB;AACvD,QAAM;AAAA,IACJ,WAAW;AAAA,IACX,gBAAgB,EAAE,SAAS,WAAW,WAAW,UAAU;AAAA,EAC7D,IAAI,SAAQ,qCAAU,UAAS,CAAC,CAAC;AACjC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA,WAAW;AAAA,EACb,IAAI,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA,IAKnB,SAAS,CAAC,iBAAiB,WAAW,aAAa,aAAa;AAAA,EAClE,CAAC;AAED,QAAM,YAAY,iBAAiB;AAEnC,MAAI,WAAW,aAAa,CAAC,SAAS;AACpC,WAAO;AAAA,EACT;AAEA,QAAM,EAAE,oBAAoB,sBAAsB,gBAAgB,KAAK,IAAI;AAE3E,MAAI,CAAC,gBAAgB;AACnB,WAAO;AAAA,EACT;AAEA,aACE,yBAAC,KAAK,MAAL,EAAU,KAAK,GAAG,GAAG,IAAI,WAAU,UAAS,YAAW,WACtD;AAAA,gCAAC,cAAW,SAAQ,SAAQ,WAAU,cACnC,wBAAc;AAAA,MACb,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB,CAAC,GACH;AAAA,QACA,yBAAC,QAAK,KAAK,GACT;AAAA,kCAAC,QACC,sCAAC,cAAW,KAAI,KACb;AAAA,QACC;AAAA,UACE,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA;AAAA,UACE;AAAA,UACA;AAAA,UACA,MAAM,CAAC,eAEH;AAAA,YAAC;AAAA;AAAA,cACC,YAAW;AAAA,cACX,WAAW,uBAAuB,iBAAiB,cAAc;AAAA,cAEhE;AAAA;AAAA,UACH;AAAA,QAEN;AAAA,MACF,GACF,GACF;AAAA,MACC,uBAAuB,oBACtB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,cAAc;AAAA,YACnB,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAClB,CAAC;AAAA,UAED,sCAAC,gBAAc,OAAM,UAAS,QAAO,UAAS,MAAK,aAAY;AAAA;AAAA,MACjE;AAAA,OAEJ;AAAA,IACC,SAAS,aACR,wBAAC,QAAK,MAAM,yBAAyB,aAAS,wBAAC,iBAAa,GACzD,wBAAc;AAAA,MACb,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB,CAAC,GACH,QAEA,wBAAC,QAAK,MAAM,kBAAkB,YAAU,MAAC,aAAS,wBAAC,iBAAa,GAC7D,wBAAc;AAAA,MACb,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB,CAAC,GACH;AAAA,KAEJ;AAEJ;",
  "names": []
}
