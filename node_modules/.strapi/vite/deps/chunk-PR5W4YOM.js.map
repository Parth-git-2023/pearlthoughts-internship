{
  "version": 3,
  "sources": ["../../../../../packages/core/admin/admin/src/components/Context.tsx"],
  "sourcesContent": ["import * as React from 'react';\r\n\r\nimport * as ContextSelector from 'use-context-selector';\r\n\r\n/**\r\n * @experimental\r\n * @description Create a context provider and a hook to consume the context.\r\n *\r\n * @warning this may be removed to the design-system instead of becoming stable.\r\n */\r\nfunction createContext<ContextValueType extends object | null>(\r\n  rootComponentName: string,\r\n  defaultContext?: ContextValueType\r\n) {\r\n  const Context = ContextSelector.createContext<ContextValueType | undefined>(defaultContext);\r\n\r\n  const Provider = (props: ContextValueType & { children: React.ReactNode }) => {\r\n    const { children, ...context } = props;\r\n    // Only re-memoize when prop values change\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\r\n\r\n    return <Context.Provider value={value}>{children}</Context.Provider>;\r\n  };\r\n\r\n  function useContext<Selected, ShouldThrow extends boolean = true>(\r\n    consumerName: string,\r\n    selector: (value: ContextValueType) => Selected,\r\n    shouldThrowOnMissingContext?: ShouldThrow\r\n  ) {\r\n    return ContextSelector.useContextSelector(Context, (ctx) => {\r\n      // The context is available, return the selected value\r\n      if (ctx) return selector(ctx);\r\n\r\n      // The context is not available, either return undefined or throw an error\r\n      if (shouldThrowOnMissingContext) {\r\n        throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\r\n      }\r\n\r\n      return undefined;\r\n    }) as ShouldThrow extends true ? Selected : Selected | undefined;\r\n  }\r\n\r\n  Provider.displayName = rootComponentName + 'Provider';\r\n\r\n  return [Provider, useContext] as const;\r\n}\r\n\r\nexport { createContext };\r\n"],
  "mappings": ";;;;;;;;;;;;;;;AAAA,YAAuB;AAsBZ;AAZX,SAAS,cACP,mBACA,gBACA;AACA,QAAM,UAA0B,EAA4C,cAAc;AAE1F,QAAM,WAAW,CAAC,UAA4D;AAC5E,UAAM,EAAE,UAAU,GAAG,QAAQ,IAAI;AAGjC,UAAM,QAAc,cAAQ,MAAM,SAAS,OAAO,OAAO,OAAO,CAAC;AAEjE,eAAO,wBAAC,QAAQ,UAAR,EAAiB,OAAe,UAAS;AAAA,EACnD;AAEA,WAAS,WACP,cACA,UACA,6BACA;AACA,WAAuB,EAAmB,SAAS,CAAC,QAAQ;AAE1D,UAAI,IAAK,QAAO,SAAS,GAAG;AAG5B,UAAI,6BAA6B;AAC/B,cAAM,IAAI,MAAM,KAAK,YAAY,4BAA4B,iBAAiB,IAAI;AAAA,MACpF;AAEA,aAAO;AAAA,IACT,CAAC;AAAA,EACH;AAEA,WAAS,cAAc,oBAAoB;AAE3C,SAAO,CAAC,UAAU,UAAU;AAC9B;",
  "names": []
}
