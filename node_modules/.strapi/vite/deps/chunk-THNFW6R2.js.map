{
  "version": 3,
  "sources": ["../../../../../packages/core/review-workflows/admin/src/utils/api.ts"],
  "sourcesContent": ["import { SerializedError } from '@reduxjs/toolkit';\r\nimport { type UnknownApiError, type ApiError } from '@strapi/admin/strapi-admin';\r\n\r\nexport type BaseQueryError = ApiError | UnknownApiError | SerializedError;\r\n\r\nconst isBaseQueryError = (error: BaseQueryError): error is ApiError | UnknownApiError => {\r\n  return error.name !== undefined;\r\n};\r\n\r\ninterface Query {\r\n  plugins?: Record<string, unknown>;\r\n  _q?: string;\r\n  [key: string]: any;\r\n}\r\n\r\n/**\r\n * This type extracts the plugin options from the query\r\n * and appends them to the root of the query\r\n */\r\ntype TransformedQuery<TQuery extends Query> = Omit<TQuery, 'plugins'> & {\r\n  [key: string]: string;\r\n};\r\n\r\n/**\r\n * @description\r\n * Creates a valid query params object for get requests\r\n * ie. plugins[18n][locale]=en becomes locale=en\r\n */\r\nconst buildValidParams = <TQuery extends Query>(query: TQuery): TransformedQuery<TQuery> => {\r\n  if (!query) return query;\r\n\r\n  // Extract pluginOptions from the query, they shouldn't be part of the URL\r\n  const { plugins: _, ...validQueryParams } = {\r\n    ...query,\r\n    ...Object.values(query?.plugins ?? {}).reduce<Record<string, string>>(\r\n      (acc, current) => Object.assign(acc, current),\r\n      {}\r\n    ),\r\n  };\r\n\r\n  return validQueryParams;\r\n};\r\n\r\nexport { isBaseQueryError, buildValidParams };\r\n"],
  "mappings": ";AAKA,IAAM,mBAAmB,CAAC,UAA+D;AACvF,SAAO,MAAM,SAAS;AACxB;AAqBA,IAAM,mBAAmB,CAAuB,UAA4C;AAC1F,MAAI,CAAC,MAAO,QAAO;AAGnB,QAAM,EAAE,SAAS,GAAG,GAAG,iBAAiB,IAAI;AAAA,IAC1C,GAAG;AAAA,IACH,GAAG,OAAO,QAAO,+BAAO,YAAW,CAAC,CAAC,EAAE;AAAA,MACrC,CAAC,KAAK,YAAY,OAAO,OAAO,KAAK,OAAO;AAAA,MAC5C,CAAC;AAAA,IACH;AAAA,EACF;AAEA,SAAO;AACT;",
  "names": []
}
