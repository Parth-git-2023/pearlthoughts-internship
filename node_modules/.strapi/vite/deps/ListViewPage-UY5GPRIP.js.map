{
  "version": 3,
  "sources": ["../../../../../packages/core/content-manager/admin/src/pages/ListView/ListViewPage.tsx", "../../../../../packages/core/content-manager/admin/src/pages/ListView/components/Filters.tsx", "../../../../../packages/core/content-manager/admin/src/pages/ListView/components/TableCells/CellContent.tsx", "../../../../../packages/core/content-manager/admin/src/pages/ListView/components/TableCells/CellValue.tsx", "../../../../../packages/core/content-manager/admin/src/pages/ListView/components/TableCells/Components.tsx", "../../../../../packages/core/content-manager/admin/src/pages/ListView/components/TableCells/Media.tsx", "../../../../../packages/core/content-manager/admin/src/pages/ListView/components/TableCells/Relations.tsx", "../../../../../packages/core/content-manager/admin/src/pages/ListView/components/ViewSettingsMenu.tsx"],
  "sourcesContent": ["import * as React from 'react';\r\n\r\nimport {\r\n  Page,\r\n  Pagination,\r\n  SearchInput,\r\n  Table,\r\n  BackButton,\r\n  useNotification,\r\n  useStrapiApp,\r\n  useTracking,\r\n  useAPIErrorHandler,\r\n  useQueryParams,\r\n  useRBAC,\r\n  Layouts,\r\n  useTable,\r\n  unstable_tours,\r\n} from '@strapi/admin/strapi-admin';\r\nimport {\r\n  Button,\r\n  Flex,\r\n  Typography,\r\n  ButtonProps,\r\n  Box,\r\n  EmptyStateLayout,\r\n} from '@strapi/design-system';\r\nimport { Plus } from '@strapi/icons';\r\nimport { EmptyDocuments } from '@strapi/icons/symbols';\r\nimport isEqual from 'lodash/isEqual';\r\nimport { stringify } from 'qs';\r\nimport { useIntl } from 'react-intl';\r\nimport { useNavigate, Link as ReactRouterLink, useParams } from 'react-router-dom';\r\nimport { styled } from 'styled-components';\r\n\r\nimport { InjectionZone } from '../../components/InjectionZone';\r\nimport { HOOKS } from '../../constants/hooks';\r\nimport { PERMISSIONS } from '../../constants/plugin';\r\nimport { DocumentRBAC, useDocumentRBAC } from '../../features/DocumentRBAC';\r\nimport { useDoc } from '../../hooks/useDocument';\r\nimport {\r\n  ListFieldLayout,\r\n  convertListLayoutToFieldLayouts,\r\n  useDocumentLayout,\r\n} from '../../hooks/useDocumentLayout';\r\nimport { usePrev } from '../../hooks/usePrev';\r\nimport { useGetAllDocumentsQuery } from '../../services/documents';\r\nimport { buildValidParams } from '../../utils/api';\r\nimport { getTranslation } from '../../utils/translations';\r\nimport { getDisplayName } from '../../utils/users';\r\nimport { DocumentStatus } from '../EditView/components/DocumentStatus';\r\n\r\nimport { BulkActionsRenderer } from './components/BulkActions/Actions';\r\nimport { Filters } from './components/Filters';\r\nimport { TableActions } from './components/TableActions';\r\nimport { CellContent } from './components/TableCells/CellContent';\r\nimport { ViewSettingsMenu } from './components/ViewSettingsMenu';\r\n\r\nimport type { Modules } from '@strapi/types';\r\n\r\nconst { INJECT_COLUMN_IN_TABLE } = HOOKS;\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * ListViewPage\r\n * -----------------------------------------------------------------------------------------------*/\r\nconst LayoutsHeaderCustom = styled(Layouts.Header)`\r\n  overflow-wrap: anywhere;\r\n`;\r\n\r\nconst ListViewPage = () => {\r\n  const { trackUsage } = useTracking();\r\n  const navigate = useNavigate();\r\n  const { formatMessage } = useIntl();\r\n  const { toggleNotification } = useNotification();\r\n  const { _unstableFormatAPIError: formatAPIError } = useAPIErrorHandler(getTranslation);\r\n\r\n  const { collectionType, model, schema } = useDoc();\r\n  const { list } = useDocumentLayout(model);\r\n\r\n  const [displayedHeaders, setDisplayedHeaders] = React.useState<ListFieldLayout[]>([]);\r\n\r\n  const listLayout = usePrev(list.layout);\r\n  React.useEffect(() => {\r\n    /**\r\n     * ONLY update the displayedHeaders if the document\r\n     * layout has actually changed in value.\r\n     */\r\n    if (!isEqual(listLayout, list.layout)) {\r\n      setDisplayedHeaders(list.layout);\r\n    }\r\n  }, [list.layout, listLayout]);\r\n\r\n  const handleSetHeaders = (headers: string[]) => {\r\n    setDisplayedHeaders(\r\n      convertListLayoutToFieldLayouts(headers, schema!.attributes, list.metadatas)\r\n    );\r\n  };\r\n\r\n  const [{ query }] = useQueryParams<{\r\n    plugins?: Record<string, unknown>;\r\n    page?: string;\r\n    pageSize?: string;\r\n    sort?: string;\r\n  }>({\r\n    page: '1',\r\n    pageSize: list.settings.pageSize.toString(),\r\n    sort: list.settings.defaultSortBy\r\n      ? `${list.settings.defaultSortBy}:${list.settings.defaultSortOrder}`\r\n      : '',\r\n  });\r\n\r\n  const params = React.useMemo(() => buildValidParams(query), [query]);\r\n\r\n  const { data, error, isFetching } = useGetAllDocumentsQuery({\r\n    model,\r\n    params,\r\n  });\r\n\r\n  /**\r\n   * If the API returns an error, display a notification\r\n   */\r\n  React.useEffect(() => {\r\n    if (error) {\r\n      toggleNotification({\r\n        type: 'danger',\r\n        message: formatAPIError(error),\r\n      });\r\n    }\r\n  }, [error, formatAPIError, toggleNotification]);\r\n\r\n  const { results = [], pagination } = data ?? {};\r\n\r\n  React.useEffect(() => {\r\n    if (pagination && pagination.pageCount > 0 && pagination.page > pagination.pageCount) {\r\n      navigate(\r\n        {\r\n          search: stringify({\r\n            ...query,\r\n            page: pagination.pageCount,\r\n          }),\r\n        },\r\n        { replace: true }\r\n      );\r\n    }\r\n  }, [pagination, formatMessage, query, navigate]);\r\n\r\n  const { canCreate } = useDocumentRBAC('ListViewPage', ({ canCreate }) => ({\r\n    canCreate,\r\n  }));\r\n\r\n  const runHookWaterfall = useStrapiApp('ListViewPage', ({ runHookWaterfall }) => runHookWaterfall);\r\n  /**\r\n   * Run the waterfall and then inject our additional table headers.\r\n   */\r\n  const tableHeaders = React.useMemo(() => {\r\n    const headers = runHookWaterfall(INJECT_COLUMN_IN_TABLE, {\r\n      displayedHeaders,\r\n      layout: list,\r\n    });\r\n\r\n    const formattedHeaders = headers.displayedHeaders.map<ListFieldLayout>((header) => {\r\n      /**\r\n       * When the header label is a string, it is an attribute on the current content-type:\r\n       * Use the attribute name value to compute the translation.\r\n       * Otherwise, it should be a  translation object coming from a plugin that injects into the table (ie i18n, content-releases, review-workflows):\r\n       * Use the translation object as is.\r\n       */\r\n      const translation =\r\n        typeof header.label === 'string'\r\n          ? {\r\n              id: `content-manager.content-types.${model}.${header.name}`,\r\n              defaultMessage: header.label,\r\n            }\r\n          : header.label;\r\n\r\n      return {\r\n        ...header,\r\n        label: formatMessage(translation),\r\n        name: `${header.name}${header.mainField?.name ? `.${header.mainField.name}` : ''}`,\r\n      };\r\n    });\r\n\r\n    if (schema?.options?.draftAndPublish) {\r\n      formattedHeaders.push({\r\n        attribute: {\r\n          type: 'custom',\r\n        },\r\n        name: 'status',\r\n        label: formatMessage({\r\n          id: getTranslation(`containers.list.table-headers.status`),\r\n          defaultMessage: 'status',\r\n        }),\r\n        searchable: false,\r\n        sortable: false,\r\n      } satisfies ListFieldLayout);\r\n    }\r\n\r\n    return formattedHeaders;\r\n  }, [\r\n    displayedHeaders,\r\n    formatMessage,\r\n    list,\r\n    runHookWaterfall,\r\n    schema?.options?.draftAndPublish,\r\n    model,\r\n  ]);\r\n\r\n  if (isFetching) {\r\n    return <Page.Loading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Page.Error />;\r\n  }\r\n\r\n  const contentTypeTitle = schema?.info.displayName\r\n    ? formatMessage({ id: schema.info.displayName, defaultMessage: schema.info.displayName })\r\n    : formatMessage({\r\n        id: 'content-manager.containers.untitled',\r\n        defaultMessage: 'Untitled',\r\n      });\r\n\r\n  const handleRowClick = (id: Modules.Documents.ID) => () => {\r\n    trackUsage('willEditEntryFromList');\r\n    navigate({\r\n      pathname: id.toString(),\r\n      search: stringify({ plugins: query.plugins }),\r\n    });\r\n  };\r\n\r\n  if (!isFetching && results.length === 0) {\r\n    return (\r\n      <>\r\n        <unstable_tours.contentManager.Introduction>\r\n          {/* Invisible Anchor */}\r\n          <Box paddingTop={5} />\r\n        </unstable_tours.contentManager.Introduction>\r\n        <Page.Main>\r\n          <Page.Title>{`${contentTypeTitle}`}</Page.Title>\r\n          <LayoutsHeaderCustom\r\n            primaryAction={canCreate ? <CreateButton /> : null}\r\n            subtitle={formatMessage(\r\n              {\r\n                id: getTranslation('pages.ListView.header-subtitle'),\r\n                defaultMessage:\r\n                  '{number, plural, =0 {# entries} one {# entry} other {# entries}} found',\r\n              },\r\n              { number: pagination?.total }\r\n            )}\r\n            title={contentTypeTitle}\r\n            navigationAction={<BackButton />}\r\n          />\r\n          <Layouts.Action\r\n            endActions={\r\n              <>\r\n                <InjectionZone area=\"listView.actions\" />\r\n                <ViewSettingsMenu\r\n                  setHeaders={handleSetHeaders}\r\n                  resetHeaders={() => setDisplayedHeaders(list.layout)}\r\n                  headers={displayedHeaders.map((header) => header.name)}\r\n                />\r\n              </>\r\n            }\r\n            startActions={\r\n              <>\r\n                {list.settings.searchable && (\r\n                  <SearchInput\r\n                    disabled={results.length === 0}\r\n                    label={formatMessage(\r\n                      { id: 'app.component.search.label', defaultMessage: 'Search for {target}' },\r\n                      { target: contentTypeTitle }\r\n                    )}\r\n                    placeholder={formatMessage({\r\n                      id: 'global.search',\r\n                      defaultMessage: 'Search',\r\n                    })}\r\n                    trackedEvent=\"didSearch\"\r\n                  />\r\n                )}\r\n                {list.settings.filterable && schema ? (\r\n                  <Filters disabled={results.length === 0} schema={schema} />\r\n                ) : null}\r\n              </>\r\n            }\r\n          />\r\n          <Layouts.Content>\r\n            <Box background=\"neutral0\" shadow=\"filterShadow\" hasRadius>\r\n              <EmptyStateLayout\r\n                action={canCreate ? <CreateButton variant=\"secondary\" /> : null}\r\n                content={formatMessage({\r\n                  id: 'app.components.EmptyStateLayout.content-document',\r\n                  defaultMessage: 'No content found',\r\n                })}\r\n                hasRadius\r\n                icon={<EmptyDocuments width=\"16rem\" />}\r\n              />\r\n            </Box>\r\n          </Layouts.Content>\r\n        </Page.Main>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page.Main>\r\n      <Page.Title>{`${contentTypeTitle}`}</Page.Title>\r\n      <LayoutsHeaderCustom\r\n        primaryAction={canCreate ? <CreateButton /> : null}\r\n        subtitle={formatMessage(\r\n          {\r\n            id: getTranslation('pages.ListView.header-subtitle'),\r\n            defaultMessage:\r\n              '{number, plural, =0 {# entries} one {# entry} other {# entries}} found',\r\n          },\r\n          { number: pagination?.total }\r\n        )}\r\n        title={contentTypeTitle}\r\n        navigationAction={<BackButton />}\r\n      />\r\n      <Layouts.Action\r\n        endActions={\r\n          <>\r\n            <InjectionZone area=\"listView.actions\" />\r\n            <ViewSettingsMenu\r\n              setHeaders={handleSetHeaders}\r\n              resetHeaders={() => setDisplayedHeaders(list.layout)}\r\n              headers={displayedHeaders.map((header) => header.name)}\r\n            />\r\n          </>\r\n        }\r\n        startActions={\r\n          <>\r\n            {list.settings.searchable && (\r\n              <SearchInput\r\n                disabled={results.length === 0}\r\n                label={formatMessage(\r\n                  { id: 'app.component.search.label', defaultMessage: 'Search for {target}' },\r\n                  { target: contentTypeTitle }\r\n                )}\r\n                placeholder={formatMessage({\r\n                  id: 'global.search',\r\n                  defaultMessage: 'Search',\r\n                })}\r\n                trackedEvent=\"didSearch\"\r\n              />\r\n            )}\r\n            {list.settings.filterable && schema ? (\r\n              <Filters disabled={results.length === 0} schema={schema} />\r\n            ) : null}\r\n          </>\r\n        }\r\n      />\r\n      <Layouts.Content>\r\n        <Flex gap={4} direction=\"column\" alignItems=\"stretch\">\r\n          <Table.Root rows={results} headers={tableHeaders} isLoading={isFetching}>\r\n            <TableActionsBar />\r\n            <Table.Content>\r\n              <Table.Head>\r\n                <Table.HeaderCheckboxCell />\r\n                {tableHeaders.map((header: ListFieldLayout) => (\r\n                  <Table.HeaderCell key={header.name} {...header} />\r\n                ))}\r\n              </Table.Head>\r\n              <Table.Loading />\r\n              <Table.Empty action={canCreate ? <CreateButton variant=\"secondary\" /> : null} />\r\n              <Table.Body>\r\n                {results.map((row) => {\r\n                  return (\r\n                    <Table.Row\r\n                      cursor=\"pointer\"\r\n                      key={row.id}\r\n                      onClick={handleRowClick(row.documentId)}\r\n                    >\r\n                      <Table.CheckboxCell id={row.id} />\r\n                      {tableHeaders.map(({ cellFormatter, ...header }) => {\r\n                        if (header.name === 'status') {\r\n                          const { status } = row;\r\n\r\n                          return (\r\n                            <Table.Cell key={header.name}>\r\n                              <DocumentStatus status={status} maxWidth={'min-content'} />\r\n                            </Table.Cell>\r\n                          );\r\n                        }\r\n                        if (['createdBy', 'updatedBy'].includes(header.name.split('.')[0])) {\r\n                          // Display the users full name\r\n                          // Some entries doesn't have a user assigned as creator/updater (ex: entries created through content API)\r\n                          // In this case, we display a dash\r\n                          return (\r\n                            <Table.Cell key={header.name}>\r\n                              <Typography textColor=\"neutral800\">\r\n                                {row[header.name.split('.')[0]]\r\n                                  ? getDisplayName(row[header.name.split('.')[0]])\r\n                                  : '-'}\r\n                              </Typography>\r\n                            </Table.Cell>\r\n                          );\r\n                        }\r\n                        if (typeof cellFormatter === 'function') {\r\n                          return (\r\n                            <Table.Cell key={header.name}>\r\n                              {/* @ts-expect-error – TODO: fix this TS error */}\r\n                              {cellFormatter(row, header, { collectionType, model })}\r\n                            </Table.Cell>\r\n                          );\r\n                        }\r\n                        return (\r\n                          <Table.Cell key={header.name}>\r\n                            <CellContent\r\n                              content={row[header.name.split('.')[0]]}\r\n                              rowId={row.documentId}\r\n                              {...header}\r\n                            />\r\n                          </Table.Cell>\r\n                        );\r\n                      })}\r\n                      {/* we stop propagation here to allow the menu to trigger it's events without triggering the row redirect */}\r\n                      <ActionsCell onClick={(e) => e.stopPropagation()}>\r\n                        <TableActions document={row} />\r\n                      </ActionsCell>\r\n                    </Table.Row>\r\n                  );\r\n                })}\r\n              </Table.Body>\r\n            </Table.Content>\r\n          </Table.Root>\r\n          <Pagination.Root\r\n            {...pagination}\r\n            onPageSizeChange={() => trackUsage('willChangeNumberOfEntriesPerPage')}\r\n          >\r\n            <Pagination.PageSize />\r\n            <Pagination.Links />\r\n          </Pagination.Root>\r\n        </Flex>\r\n      </Layouts.Content>\r\n    </Page.Main>\r\n  );\r\n};\r\n\r\nconst ActionsCell = styled(Table.Cell)`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * TableActionsBar\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\nconst TableActionsBar = () => {\r\n  const selectRow = useTable('TableActionsBar', (state) => state.selectRow);\r\n  const [{ query }] = useQueryParams<{ plugins: { i18n: { locale: string } } }>();\r\n  const locale = query?.plugins?.i18n?.locale;\r\n  const prevLocale = usePrev(locale);\r\n\r\n  // TODO: find a better way to reset the selected rows when the locale changes across all the app\r\n  React.useEffect(() => {\r\n    if (prevLocale !== locale) {\r\n      selectRow([]);\r\n    }\r\n  }, [selectRow, prevLocale, locale]);\r\n\r\n  return (\r\n    <Table.ActionBar>\r\n      <BulkActionsRenderer />\r\n    </Table.ActionBar>\r\n  );\r\n};\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * CreateButton\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\ninterface CreateButtonProps extends Pick<ButtonProps, 'variant'> {}\r\n\r\nconst CreateButton = ({ variant }: CreateButtonProps) => {\r\n  const { formatMessage } = useIntl();\r\n  const { trackUsage } = useTracking();\r\n  const [{ query }] = useQueryParams<{ plugins: object }>();\r\n\r\n  return (\r\n    <Button\r\n      variant={variant}\r\n      tag={ReactRouterLink}\r\n      onClick={() => {\r\n        trackUsage('willCreateEntry', { status: 'draft' });\r\n      }}\r\n      startIcon={<Plus />}\r\n      style={{ textDecoration: 'none' }}\r\n      to={{\r\n        pathname: 'create',\r\n        search: stringify({ plugins: query.plugins }),\r\n      }}\r\n      minWidth=\"max-content\"\r\n      marginLeft={2}\r\n    >\r\n      {formatMessage({\r\n        id: getTranslation('HeaderLayout.button.label-add-entry'),\r\n        defaultMessage: 'Create new entry',\r\n      })}\r\n    </Button>\r\n  );\r\n};\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * ProtectedListViewPage\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\nconst ProtectedListViewPage = () => {\r\n  const { slug = '' } = useParams<{\r\n    slug: string;\r\n  }>();\r\n  const {\r\n    permissions = [],\r\n    isLoading,\r\n    error,\r\n  } = useRBAC(\r\n    PERMISSIONS.map((action) => ({\r\n      action,\r\n      subject: slug,\r\n    }))\r\n  );\r\n\r\n  if (isLoading) {\r\n    return <Page.Loading />;\r\n  }\r\n\r\n  if (error || !slug) {\r\n    return <Page.Error />;\r\n  }\r\n\r\n  return (\r\n    <Page.Protect permissions={permissions}>\r\n      {({ permissions }) => (\r\n        <DocumentRBAC permissions={permissions}>\r\n          <ListViewPage />\r\n        </DocumentRBAC>\r\n      )}\r\n    </Page.Protect>\r\n  );\r\n};\r\n\r\nexport { ListViewPage, ProtectedListViewPage };\r\n", "import * as React from 'react';\r\n\r\nimport {\r\n  Filters,\r\n  useField,\r\n  useAuth,\r\n  useTracking,\r\n  useQueryParams,\r\n  useAdminUsers,\r\n} from '@strapi/admin/strapi-admin';\r\nimport { Combobox, ComboboxOption, useCollator } from '@strapi/design-system';\r\nimport { useIntl } from 'react-intl';\r\n\r\nimport { CREATOR_FIELDS } from '../../../constants/attributes';\r\nimport { useContentTypeSchema } from '../../../hooks/useContentTypeSchema';\r\nimport { useDebounce } from '../../../hooks/useDebounce';\r\nimport { Schema } from '../../../hooks/useDocument';\r\nimport { useGetContentTypeConfigurationQuery } from '../../../services/contentTypes';\r\nimport { getMainField } from '../../../utils/attributes';\r\nimport { getDisplayName } from '../../../utils/users';\r\n\r\n/**\r\n * If new attributes are added, this list needs to be updated.\r\n */\r\nconst NOT_ALLOWED_FILTERS = [\r\n  'json',\r\n  'component',\r\n  'media',\r\n  'richtext',\r\n  'dynamiczone',\r\n  'password',\r\n  'blocks',\r\n];\r\nconst DEFAULT_ALLOWED_FILTERS = ['createdAt', 'updatedAt'];\r\nconst USER_FILTER_ATTRIBUTES = [...CREATOR_FIELDS, 'strapi_assignee'];\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * Filters\r\n * -----------------------------------------------------------------------------------------------*/\r\ninterface FiltersProps {\r\n  disabled?: boolean;\r\n  schema: Schema;\r\n}\r\n\r\nconst FiltersImpl = ({ disabled, schema }: FiltersProps) => {\r\n  const { attributes, uid: model, options } = schema;\r\n  const { formatMessage, locale } = useIntl();\r\n  const { trackUsage } = useTracking();\r\n  const allPermissions = useAuth('FiltersImpl', (state) => state.permissions);\r\n  const [{ query }] = useQueryParams<Filters.Query>();\r\n  const { schemas } = useContentTypeSchema();\r\n\r\n  const canReadAdminUsers = React.useMemo(\r\n    () =>\r\n      allPermissions.filter(\r\n        (permission) => permission.action === 'admin::users.read' && permission.subject === null\r\n      ).length > 0,\r\n    [allPermissions]\r\n  );\r\n\r\n  const selectedUserIds = (query?.filters?.$and ?? []).reduce<string[]>((acc, filter) => {\r\n    const [key, value] = Object.entries(filter)[0];\r\n    if (typeof value.id !== 'object') {\r\n      return acc;\r\n    }\r\n\r\n    const id = value.id.$eq || value.id.$ne;\r\n\r\n    if (id && USER_FILTER_ATTRIBUTES.includes(key) && !acc.includes(id)) {\r\n      acc.push(id);\r\n    }\r\n\r\n    return acc;\r\n  }, []);\r\n\r\n  const { data: userData, isLoading: isLoadingAdminUsers } = useAdminUsers(\r\n    { filters: { id: { $in: selectedUserIds } } },\r\n    {\r\n      // fetch the list of admin users only if the filter contains users and the\r\n      // current user has permissions to display users\r\n      skip: selectedUserIds.length === 0 || !canReadAdminUsers,\r\n    }\r\n  );\r\n\r\n  const { users = [] } = userData ?? {};\r\n\r\n  const { metadata } = useGetContentTypeConfigurationQuery(model, {\r\n    selectFromResult: ({ data }) => ({ metadata: data?.contentType.metadatas ?? {} }),\r\n  });\r\n\r\n  const formatter = useCollator(locale, {\r\n    sensitivity: 'base',\r\n  });\r\n\r\n  const displayedFilters = React.useMemo(() => {\r\n    const [{ properties: { fields = [] } = { fields: [] } }] = allPermissions.filter(\r\n      (permission) =>\r\n        permission.action === 'plugin::content-manager.explorer.read' &&\r\n        permission.subject === model\r\n    );\r\n\r\n    const allowedFields = fields.filter((field) => {\r\n      const attribute = attributes[field] ?? {};\r\n\r\n      return attribute.type && !NOT_ALLOWED_FILTERS.includes(attribute.type);\r\n    });\r\n\r\n    return (\r\n      [\r\n        'id',\r\n        'documentId',\r\n        ...allowedFields,\r\n        ...DEFAULT_ALLOWED_FILTERS,\r\n        ...(canReadAdminUsers ? CREATOR_FIELDS : []),\r\n      ]\r\n        .map((name) => {\r\n          const attribute = attributes[name];\r\n\r\n          if (NOT_ALLOWED_FILTERS.includes(attribute.type)) {\r\n            return null;\r\n          }\r\n\r\n          const { mainField: mainFieldName = '', label } = metadata[name].list;\r\n\r\n          let filter: Filters.Filter = {\r\n            name,\r\n            label: label ?? '',\r\n            mainField: getMainField(attribute, mainFieldName, { schemas, components: {} }),\r\n            // @ts-expect-error – TODO: this is filtered out above in the `allowedFields` call but TS complains, is there a better way to solve this?\r\n            type: attribute.type,\r\n          };\r\n\r\n          if (\r\n            attribute.type === 'relation' &&\r\n            'target' in attribute &&\r\n            attribute.target === 'admin::user'\r\n          ) {\r\n            filter = {\r\n              ...filter,\r\n              input: AdminUsersFilter,\r\n              options: users.map((user) => ({\r\n                label: getDisplayName(user),\r\n                value: user.id.toString(),\r\n              })),\r\n              operators: [\r\n                {\r\n                  label: formatMessage({\r\n                    id: 'components.FilterOptions.FILTER_TYPES.$eq',\r\n                    defaultMessage: 'is',\r\n                  }),\r\n                  value: '$eq',\r\n                },\r\n                {\r\n                  label: formatMessage({\r\n                    id: 'components.FilterOptions.FILTER_TYPES.$ne',\r\n                    defaultMessage: 'is not',\r\n                  }),\r\n                  value: '$ne',\r\n                },\r\n              ],\r\n              mainField: {\r\n                name: 'id',\r\n                type: 'integer',\r\n              },\r\n            };\r\n          }\r\n\r\n          if (attribute.type === 'enumeration') {\r\n            filter = {\r\n              ...filter,\r\n              options: attribute.enum.map((value) => ({\r\n                label: value,\r\n                value,\r\n              })),\r\n            };\r\n          }\r\n\r\n          return filter;\r\n        })\r\n        .filter(Boolean) as Filters.Filter[]\r\n    ).toSorted((a, b) => formatter.compare(a.label, b.label));\r\n  }, [\r\n    allPermissions,\r\n    canReadAdminUsers,\r\n    model,\r\n    attributes,\r\n    metadata,\r\n    schemas,\r\n    users,\r\n    formatMessage,\r\n    formatter,\r\n  ]);\r\n\r\n  const onOpenChange = (isOpen: boolean) => {\r\n    if (isOpen) {\r\n      trackUsage('willFilterEntries');\r\n    }\r\n  };\r\n\r\n  const handleFilterChange: Filters.Props['onChange'] = (data) => {\r\n    const attribute = attributes[data.name];\r\n\r\n    if (attribute) {\r\n      trackUsage('didFilterEntries', {\r\n        useRelation: attribute.type === 'relation',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Filters.Root\r\n      disabled={disabled}\r\n      options={displayedFilters}\r\n      onOpenChange={onOpenChange}\r\n      onChange={handleFilterChange}\r\n    >\r\n      <Filters.Trigger />\r\n      <Filters.Popover />\r\n      <Filters.List />\r\n    </Filters.Root>\r\n  );\r\n};\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * AdminUsersFilter\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\nconst AdminUsersFilter = ({ name }: Filters.ValueInputProps) => {\r\n  const [pageSize, setPageSize] = React.useState(10);\r\n  const [search, setSearch] = React.useState('');\r\n  const { formatMessage } = useIntl();\r\n\r\n  const debouncedSearch = useDebounce(search, 300);\r\n\r\n  const { data, isLoading } = useAdminUsers({\r\n    pageSize,\r\n    _q: debouncedSearch,\r\n  });\r\n  const field = useField(name);\r\n\r\n  const handleOpenChange = (isOpen?: boolean) => {\r\n    if (!isOpen) {\r\n      setPageSize(10);\r\n    }\r\n  };\r\n\r\n  const { users = [], pagination } = data ?? {};\r\n  const { pageCount = 1, page = 1 } = pagination ?? {};\r\n\r\n  return (\r\n    <Combobox\r\n      value={field.value}\r\n      aria-label={formatMessage({\r\n        id: 'content-manager.components.Filters.usersSelect.label',\r\n        defaultMessage: 'Search and select a user to filter',\r\n      })}\r\n      onOpenChange={handleOpenChange}\r\n      onChange={(value) => field.onChange(name, value)}\r\n      loading={isLoading}\r\n      onLoadMore={() => setPageSize(pageSize + 10)}\r\n      hasMoreItems={page < pageCount}\r\n      onInputChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearch(e.currentTarget.value);\r\n      }}\r\n    >\r\n      {users.map((user) => {\r\n        return (\r\n          <ComboboxOption key={user.id} value={user.id.toString()}>\r\n            {getDisplayName(user)}\r\n          </ComboboxOption>\r\n        );\r\n      })}\r\n    </Combobox>\r\n  );\r\n};\r\n\r\nexport { FiltersImpl as Filters };\r\nexport type { FiltersProps };\r\n", "import { Tooltip, Typography } from '@strapi/design-system';\r\nimport isEmpty from 'lodash/isEmpty';\r\n\r\nimport { CellValue } from './CellValue';\r\nimport { SingleComponent, RepeatableComponent } from './Components';\r\nimport { MediaSingle, MediaMultiple } from './Media';\r\nimport { RelationMultiple, RelationSingle } from './Relations';\r\n\r\nimport type { ListFieldLayout } from '../../../../hooks/useDocumentLayout';\r\nimport type { Schema, Data } from '@strapi/types';\r\n\r\ninterface CellContentProps extends Omit<ListFieldLayout, 'cellFormatter'> {\r\n  content: Schema.Attribute.Value<Schema.Attribute.AnyAttribute>;\r\n  rowId: Data.ID;\r\n}\r\n\r\nconst CellContent = ({ content, mainField, attribute, rowId, name }: CellContentProps) => {\r\n  if (!hasContent(content, mainField, attribute)) {\r\n    return (\r\n      <Typography\r\n        textColor=\"neutral800\"\r\n        paddingLeft={attribute.type === ('relation' || 'component') ? '1.6rem' : 0}\r\n        paddingRight={attribute.type === ('relation' || 'component') ? '1.6rem' : 0}\r\n      >\r\n        -\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  switch (attribute.type) {\r\n    case 'media':\r\n      if (!attribute.multiple) {\r\n        return <MediaSingle {...content} />;\r\n      }\r\n\r\n      return <MediaMultiple content={content} />;\r\n\r\n    case 'relation': {\r\n      if (isSingleRelation(attribute.relation)) {\r\n        return <RelationSingle mainField={mainField} content={content} />;\r\n      }\r\n\r\n      return <RelationMultiple rowId={rowId} mainField={mainField} content={content} name={name} />;\r\n    }\r\n\r\n    case 'component':\r\n      if (attribute.repeatable) {\r\n        return <RepeatableComponent mainField={mainField} content={content} />;\r\n      }\r\n\r\n      return <SingleComponent mainField={mainField} content={content} />;\r\n\r\n    case 'string':\r\n      return (\r\n        <Tooltip description={content}>\r\n          <Typography maxWidth=\"30rem\" ellipsis textColor=\"neutral800\">\r\n            <CellValue type={attribute.type} value={content} />\r\n          </Typography>\r\n        </Tooltip>\r\n      );\r\n\r\n    default:\r\n      return (\r\n        <Typography maxWidth=\"30rem\" ellipsis textColor=\"neutral800\">\r\n          <CellValue type={attribute.type} value={content} />\r\n        </Typography>\r\n      );\r\n  }\r\n};\r\n\r\nconst hasContent = (\r\n  content: CellContentProps['content'],\r\n  mainField: CellContentProps['mainField'],\r\n  attribute: CellContentProps['attribute']\r\n) => {\r\n  if (attribute.type === 'component') {\r\n    // Repeatable fields show the ID as fallback, in case the mainField\r\n    // doesn't have any content\r\n    if (attribute.repeatable || !mainField) {\r\n      return content?.length > 0;\r\n    }\r\n\r\n    const value = content?.[mainField.name];\r\n\r\n    // relations, media ... show the id as fallback\r\n    if (mainField.name === 'id' && ![undefined, null].includes(value)) {\r\n      return true;\r\n    }\r\n\r\n    return !isEmpty(value);\r\n  }\r\n\r\n  if (attribute.type === 'relation') {\r\n    if (isSingleRelation(attribute.relation)) {\r\n      return !isEmpty(content);\r\n    }\r\n\r\n    if (Array.isArray(content)) {\r\n      return content.length > 0;\r\n    }\r\n\r\n    return content?.count > 0;\r\n  }\r\n\r\n  /*\r\n      Biginteger fields need to be treated as strings, as `isNumber`\r\n      doesn't deal with them.\r\n  */\r\n  if (['integer', 'decimal', 'float', 'number'].includes(attribute.type)) {\r\n    return typeof content === 'number';\r\n  }\r\n\r\n  if (attribute.type === 'boolean') {\r\n    return content !== null;\r\n  }\r\n\r\n  return !isEmpty(content);\r\n};\r\n\r\nconst isSingleRelation = (\r\n  type: Extract<CellContentProps['attribute'], { type: 'relation' }>['relation']\r\n) => ['oneToOne', 'manyToOne', 'oneToOneMorph'].includes(type);\r\n\r\nexport { CellContent };\r\nexport type { CellContentProps };\r\n", "import parseISO from 'date-fns/parseISO';\r\nimport toString from 'lodash/toString';\r\nimport { useIntl } from 'react-intl';\r\n\r\nimport type { Schema } from '@strapi/types';\r\n\r\ninterface CellValueProps {\r\n  type: Schema.Attribute.Kind | 'custom';\r\n  value: any;\r\n}\r\n\r\nconst CellValue = ({ type, value }: CellValueProps) => {\r\n  const { formatDate, formatTime, formatNumber } = useIntl();\r\n  let formattedValue = value;\r\n\r\n  if (type === 'date') {\r\n    formattedValue = formatDate(parseISO(value), { dateStyle: 'full' });\r\n  }\r\n\r\n  if (type === 'datetime') {\r\n    formattedValue = formatDate(value, { dateStyle: 'full', timeStyle: 'short' });\r\n  }\r\n\r\n  if (type === 'time') {\r\n    const [hour, minute, second] = value.split(':');\r\n    const date = new Date();\r\n    date.setHours(hour);\r\n    date.setMinutes(minute);\r\n    date.setSeconds(second);\r\n\r\n    formattedValue = formatTime(date, {\r\n      timeStyle: 'short',\r\n    });\r\n  }\r\n\r\n  if (['float', 'decimal'].includes(type)) {\r\n    formattedValue = formatNumber(value, {\r\n      // Should be kept in sync with the corresponding value\r\n      // in the design-system/NumberInput: https://github.com/strapi/design-system/blob/main/packages/strapi-design-system/src/NumberInput/NumberInput.js#L53\r\n      maximumFractionDigits: 20,\r\n    });\r\n  }\r\n\r\n  if (['integer', 'biginteger'].includes(type)) {\r\n    formattedValue = formatNumber(value, { maximumFractionDigits: 0 });\r\n  }\r\n\r\n  return toString(formattedValue);\r\n};\r\n\r\nexport { CellValue };\r\nexport type { CellValueProps };\r\n", "import { Badge, Tooltip, Typography, Menu } from '@strapi/design-system';\r\nimport { useIntl } from 'react-intl';\r\nimport { styled } from 'styled-components';\r\n\r\nimport { CellContentProps } from './CellContent';\r\nimport { CellValue } from './CellValue';\r\n\r\nimport type { Schema } from '@strapi/types';\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * SingleComponent\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\ninterface SingleComponentProps extends Pick<CellContentProps, 'mainField'> {\r\n  content: Schema.Attribute.Value<Schema.Attribute.Component<`${string}.${string}`, false>>;\r\n}\r\n\r\nconst SingleComponent = ({ content, mainField }: SingleComponentProps) => {\r\n  if (!mainField) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Tooltip label={content[mainField.name]}>\r\n      <Typography maxWidth=\"25rem\" textColor=\"neutral800\" ellipsis>\r\n        <CellValue type={mainField.type} value={content[mainField.name]} />\r\n      </Typography>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * RepeatableComponent\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\ninterface RepeatableComponentProps extends Pick<CellContentProps, 'mainField'> {\r\n  content: Schema.Attribute.Value<Schema.Attribute.Component<`${string}.${string}`, true>>;\r\n}\r\n\r\nconst RepeatableComponent = ({ content, mainField }: RepeatableComponentProps) => {\r\n  const { formatMessage } = useIntl();\r\n\r\n  if (!mainField) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Menu.Root>\r\n      <Menu.Trigger onClick={(e) => e.stopPropagation()}>\r\n        <Badge>{content.length}</Badge>\r\n        {formatMessage(\r\n          {\r\n            id: 'content-manager.containers.list.items',\r\n            defaultMessage: '{number, plural, =0 {items} one {item} other {items}}',\r\n          },\r\n          { number: content.length }\r\n        )}\r\n      </Menu.Trigger>\r\n      <Menu.Content>\r\n        {content.map((item) => (\r\n          <Menu.Item key={item.id} disabled>\r\n            <Typography maxWidth=\"50rem\" ellipsis>\r\n              <CellValue type={mainField.type} value={item[mainField.name]} />\r\n            </Typography>\r\n          </Menu.Item>\r\n        ))}\r\n      </Menu.Content>\r\n    </Menu.Root>\r\n  );\r\n};\r\n\r\nexport { SingleComponent, RepeatableComponent };\r\nexport type { SingleComponentProps, RepeatableComponentProps };\r\n", "import * as React from 'react';\r\n\r\nimport { Avatar, Flex, Tooltip, Typography, TypographyComponent } from '@strapi/design-system';\r\nimport { styled } from 'styled-components';\r\n\r\nimport { prefixFileUrlWithBackendUrl } from '../../../../utils/urls';\r\n\r\nimport type { Data } from '@strapi/types';\r\n\r\ninterface MediaFile {\r\n  id?: Data.ID;\r\n  alternativeText?: string;\r\n  ext: string;\r\n  formats: {\r\n    thumbnail?: {\r\n      url?: string;\r\n    };\r\n  };\r\n  mime: string;\r\n  name: string;\r\n  url: string;\r\n}\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * Media\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\ninterface MediaSingleProps extends MediaFile {}\r\n\r\nconst getFileExtension = (ext: string) => (ext && ext[0] === '.' ? ext.substring(1) : ext);\r\n\r\nconst MediaSingle = ({ url, mime, alternativeText, name, ext, formats }: MediaSingleProps) => {\r\n  const fileURL = prefixFileUrlWithBackendUrl(url)!;\r\n\r\n  if (mime.includes('image')) {\r\n    const thumbnail = formats?.thumbnail?.url;\r\n    const mediaURL = prefixFileUrlWithBackendUrl(thumbnail) || fileURL;\r\n\r\n    return (\r\n      <Avatar.Item\r\n        src={mediaURL}\r\n        alt={alternativeText || name}\r\n        fallback={alternativeText || name}\r\n        preview\r\n      />\r\n    );\r\n  }\r\n\r\n  const fileExtension = getFileExtension(ext);\r\n  const fileName = name.length > 100 ? `${name.substring(0, 100)}...` : name;\r\n\r\n  return (\r\n    <Tooltip description={fileName}>\r\n      <FileWrapper>{fileExtension}</FileWrapper>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst FileWrapper = ({ children }: { children: React.ReactNode }) => {\r\n  return (\r\n    <Flex\r\n      tag=\"span\"\r\n      position=\"relative\"\r\n      borderRadius=\"50%\"\r\n      width=\"26px\"\r\n      height=\"26px\"\r\n      borderColor=\"neutral200\"\r\n      background=\"neutral150\"\r\n      paddingLeft=\"1px\"\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n    >\r\n      <FileTypography variant=\"sigma\" textColor=\"neutral600\">\r\n        {children}\r\n      </FileTypography>\r\n    </Flex>\r\n  );\r\n};\r\n\r\nconst FileTypography = styled<TypographyComponent>(Typography)`\r\n  font-size: 0.9rem;\r\n  line-height: 0.9rem;\r\n`;\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * MediaMultiple\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\ninterface MediaMultipleProps {\r\n  content: MediaFile[];\r\n}\r\n\r\nconst MediaMultiple = ({ content }: MediaMultipleProps) => {\r\n  return (\r\n    <Avatar.Group>\r\n      {content.map((file, index) => {\r\n        const key = `${file.id}${index}`;\r\n\r\n        if (index === 3) {\r\n          const remainingFiles = `+${content.length - 3}`;\r\n\r\n          return <FileWrapper key={key}>{remainingFiles}</FileWrapper>;\r\n        }\r\n\r\n        if (index > 3) {\r\n          return null;\r\n        }\r\n\r\n        return <MediaSingle key={key} {...file} />;\r\n      })}\r\n    </Avatar.Group>\r\n  );\r\n};\r\n\r\nexport { MediaMultiple, MediaSingle };\r\nexport type { MediaMultipleProps, MediaSingleProps };\r\n", "import * as React from 'react';\r\n\r\nimport { Typography, Loader, useNotifyAT, Menu } from '@strapi/design-system';\r\nimport { useIntl } from 'react-intl';\r\n\r\nimport { useDoc } from '../../../../hooks/useDocument';\r\nimport { useGetRelationsQuery } from '../../../../services/relations';\r\nimport { getRelationLabel } from '../../../../utils/relations';\r\nimport { getTranslation } from '../../../../utils/translations';\r\n\r\nimport type { CellContentProps } from './CellContent';\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * RelationSingle\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\ninterface RelationSingleProps extends Pick<CellContentProps, 'mainField' | 'content'> {}\r\n\r\nconst RelationSingle = ({ mainField, content }: RelationSingleProps) => {\r\n  return (\r\n    <Typography maxWidth=\"50rem\" textColor=\"neutral800\" ellipsis>\r\n      {getRelationLabel(content, mainField)}\r\n    </Typography>\r\n  );\r\n};\r\n\r\n/* -------------------------------------------------------------------------------------------------\r\n * RelationMultiple\r\n * -----------------------------------------------------------------------------------------------*/\r\n\r\ninterface RelationMultipleProps\r\n  extends Pick<CellContentProps, 'mainField' | 'content' | 'name' | 'rowId'> {}\r\n\r\n/**\r\n * TODO: fix this component – tracking issue https://strapi-inc.atlassian.net/browse/CONTENT-2184\r\n */\r\nconst RelationMultiple = ({ mainField, content, rowId, name }: RelationMultipleProps) => {\r\n  const { model } = useDoc();\r\n  const { formatMessage } = useIntl();\r\n  const { notifyStatus } = useNotifyAT();\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n  const [targetField] = name.split('.');\r\n\r\n  const { data, isLoading } = useGetRelationsQuery(\r\n    {\r\n      model,\r\n      id: rowId,\r\n      targetField,\r\n    },\r\n    {\r\n      skip: !isOpen,\r\n      refetchOnMountOrArgChange: true,\r\n    }\r\n  );\r\n\r\n  const contentCount = Array.isArray(content) ? content.length : content.count;\r\n\r\n  React.useEffect(() => {\r\n    if (data) {\r\n      notifyStatus(\r\n        formatMessage({\r\n          id: getTranslation('DynamicTable.relation-loaded'),\r\n          defaultMessage: 'Relations have been loaded',\r\n        })\r\n      );\r\n    }\r\n  }, [data, formatMessage, notifyStatus]);\r\n\r\n  return (\r\n    <Menu.Root onOpenChange={(isOpen) => setIsOpen(isOpen)}>\r\n      <Menu.Trigger onClick={(e) => e.stopPropagation()}>\r\n        <Typography style={{ cursor: 'pointer' }} textColor=\"neutral800\" fontWeight=\"regular\">\r\n          {contentCount > 0\r\n            ? formatMessage(\r\n                {\r\n                  id: 'content-manager.containers.list.items',\r\n                  defaultMessage: '{number} {number, plural, =0 {items} one {item} other {items}}',\r\n                },\r\n                { number: contentCount }\r\n              )\r\n            : '-'}\r\n        </Typography>\r\n      </Menu.Trigger>\r\n      <Menu.Content>\r\n        {isLoading && (\r\n          <Menu.Item disabled>\r\n            <Loader small>\r\n              {formatMessage({\r\n                id: getTranslation('ListViewTable.relation-loading'),\r\n                defaultMessage: 'Relations are loading',\r\n              })}\r\n            </Loader>\r\n          </Menu.Item>\r\n        )}\r\n        {data?.results && (\r\n          <>\r\n            {data.results.map((entry) => (\r\n              <Menu.Item key={entry.documentId}>\r\n                <Typography maxWidth=\"50rem\" ellipsis>\r\n                  {getRelationLabel(entry, mainField)}\r\n                </Typography>\r\n              </Menu.Item>\r\n            ))}\r\n\r\n            {data?.pagination && data?.pagination.total > 10 && (\r\n              <Menu.Item\r\n                aria-disabled\r\n                aria-label={formatMessage({\r\n                  id: getTranslation('ListViewTable.relation-more'),\r\n                  defaultMessage: 'This relation contains more entities than displayed',\r\n                })}\r\n              >\r\n                <Typography>…</Typography>\r\n              </Menu.Item>\r\n            )}\r\n          </>\r\n        )}\r\n      </Menu.Content>\r\n    </Menu.Root>\r\n  );\r\n};\r\n\r\nexport { RelationSingle, RelationMultiple };\r\nexport type { RelationSingleProps, RelationMultipleProps };\r\n", "import * as React from 'react';\r\n\r\nimport { useTracking, useRBAC, useQueryParams } from '@strapi/admin/strapi-admin';\r\nimport {\r\n  Flex,\r\n  IconButton,\r\n  Popover,\r\n  Checkbox,\r\n  TextButton,\r\n  Typography,\r\n  useCollator,\r\n  LinkButton,\r\n} from '@strapi/design-system';\r\nimport { Cog, ListPlus } from '@strapi/icons';\r\nimport { stringify } from 'qs';\r\nimport { useIntl } from 'react-intl';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { useDoc } from '../../../hooks/useDocument';\r\nimport { useDocumentLayout } from '../../../hooks/useDocumentLayout';\r\nimport { useTypedSelector } from '../../../modules/hooks';\r\nimport { checkIfAttributeIsDisplayable } from '../../../utils/attributes';\r\n\r\ninterface ViewSettingsMenuProps extends FieldPickerProps {}\r\n\r\nconst ViewSettingsMenu = (props: ViewSettingsMenuProps) => {\r\n  const permissions = useTypedSelector(\r\n    (state) => state.admin_app.permissions.contentManager?.collectionTypesConfigurations ?? []\r\n  );\r\n  const [{ query }] = useQueryParams<{ plugins?: Record<string, unknown> }>();\r\n  const { formatMessage } = useIntl();\r\n  const {\r\n    allowedActions: { canConfigureView },\r\n  } = useRBAC(permissions);\r\n\r\n  return (\r\n    <Popover.Root>\r\n      <Popover.Trigger>\r\n        <IconButton\r\n          label={formatMessage({\r\n            id: 'components.ViewSettings.tooltip',\r\n            defaultMessage: 'View Settings',\r\n          })}\r\n        >\r\n          <Cog />\r\n        </IconButton>\r\n      </Popover.Trigger>\r\n      <Popover.Content side=\"bottom\" align=\"end\" sideOffset={4}>\r\n        <Flex alignItems=\"stretch\" direction=\"column\" padding={3} gap={3}>\r\n          {canConfigureView ? (\r\n            <LinkButton\r\n              size=\"S\"\r\n              startIcon={<ListPlus />}\r\n              variant=\"secondary\"\r\n              tag={NavLink}\r\n              to={{\r\n                pathname: 'configurations/list',\r\n                search: query.plugins\r\n                  ? stringify({ plugins: query.plugins }, { encode: false })\r\n                  : '',\r\n              }}\r\n            >\r\n              {formatMessage({\r\n                id: 'app.links.configure-view',\r\n                defaultMessage: 'Configure the view',\r\n              })}\r\n            </LinkButton>\r\n          ) : null}\r\n          <FieldPicker {...props} />\r\n        </Flex>\r\n      </Popover.Content>\r\n    </Popover.Root>\r\n  );\r\n};\r\n\r\ninterface FieldPickerProps {\r\n  headers?: string[];\r\n  setHeaders: (headers: string[]) => void;\r\n  resetHeaders: () => void;\r\n}\r\n\r\nconst FieldPicker = ({ headers = [], resetHeaders, setHeaders }: FieldPickerProps) => {\r\n  const { trackUsage } = useTracking();\r\n  const { formatMessage, locale } = useIntl();\r\n\r\n  const { schema, model } = useDoc();\r\n  const { list } = useDocumentLayout(model);\r\n\r\n  const formatter = useCollator(locale, {\r\n    sensitivity: 'base',\r\n  });\r\n\r\n  const attributes = schema?.attributes ?? {};\r\n\r\n  const columns = Object.keys(attributes)\r\n    .filter((name) => checkIfAttributeIsDisplayable(attributes[name]))\r\n    .map((name) => ({\r\n      name,\r\n      label: list.metadatas[name]?.label ?? '',\r\n    }))\r\n    .sort((a, b) => formatter.compare(a.label, b.label));\r\n\r\n  const handleChange = (name: string) => {\r\n    trackUsage('didChangeDisplayedFields');\r\n\r\n    /**\r\n     * create an array of the new headers, if the new name exists it should be removed,\r\n     * otherwise it should be added\r\n     */\r\n    const newHeaders = headers.includes(name)\r\n      ? headers.filter((header) => header !== name)\r\n      : [...headers, name];\r\n\r\n    setHeaders(newHeaders);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    resetHeaders();\r\n  };\r\n\r\n  return (\r\n    <Flex\r\n      tag=\"fieldset\"\r\n      direction=\"column\"\r\n      alignItems=\"stretch\"\r\n      gap={3}\r\n      borderWidth={0}\r\n      maxHeight={'240px'}\r\n      overflow={'scroll'}\r\n    >\r\n      <Flex justifyContent=\"space-between\">\r\n        <Typography tag=\"legend\" variant=\"pi\" fontWeight=\"bold\">\r\n          {formatMessage({\r\n            id: 'containers.list.displayedFields',\r\n            defaultMessage: 'Displayed fields',\r\n          })}\r\n        </Typography>\r\n\r\n        <TextButton onClick={handleReset}>\r\n          {formatMessage({\r\n            id: 'app.components.Button.reset',\r\n            defaultMessage: 'Reset',\r\n          })}\r\n        </TextButton>\r\n      </Flex>\r\n\r\n      <Flex direction=\"column\" alignItems=\"stretch\">\r\n        {columns.map((header) => {\r\n          const isActive = headers.includes(header.name);\r\n\r\n          return (\r\n            <Flex\r\n              wrap=\"wrap\"\r\n              gap={2}\r\n              background={isActive ? 'primary100' : 'transparent'}\r\n              hasRadius\r\n              padding={2}\r\n              key={header.name}\r\n            >\r\n              <Checkbox\r\n                onCheckedChange={() => handleChange(header.name)}\r\n                checked={isActive}\r\n                name={header.name}\r\n              >\r\n                <Typography fontSize={1}>{header.label}</Typography>\r\n              </Checkbox>\r\n            </Flex>\r\n          );\r\n        })}\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n};\r\n\r\nexport { ViewSettingsMenu };\r\nexport type { ViewSettingsMenuProps, FieldPickerProps };\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,SAAuB;AA4BvB,qBAAoB;AACpB,IAAAC,aAA0B;;;AC7B1B,YAAuB;AAkNnB;AA1LJ,IAAM,sBAAsB;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AACA,IAAM,0BAA0B,CAAC,aAAa,WAAW;AACzD,IAAM,yBAAyB,CAAC,GAAG,gBAAgB,iBAAiB;AAUpE,IAAM,cAAc,CAAC,EAAE,UAAU,OAAO,MAAoB;AA5C5D;AA6CE,QAAM,EAAE,YAAY,KAAK,OAAO,QAAQ,IAAI;AAC5C,QAAM,EAAE,eAAe,OAAO,IAAI,QAAQ;AAC1C,QAAM,EAAE,WAAW,IAAI,YAAY;AACnC,QAAM,iBAAiB,QAAQ,eAAe,CAAC,UAAU,MAAM,WAAW;AAC1E,QAAM,CAAC,EAAE,MAAM,CAAC,IAAI,eAA8B;AAClD,QAAM,EAAE,QAAQ,IAAI,qBAAqB;AAEzC,QAAM,oBAA0B;AAAA,IAC9B,MACE,eAAe;AAAA,MACb,CAAC,eAAe,WAAW,WAAW,uBAAuB,WAAW,YAAY;AAAA,IACtF,EAAE,SAAS;AAAA,IACb,CAAC,cAAc;AAAA,EACjB;AAEA,QAAM,qBAAmB,oCAAO,YAAP,mBAAgB,SAAQ,CAAC,GAAG,OAAiB,CAAC,KAAK,WAAW;AACrF,UAAM,CAAC,KAAK,KAAK,IAAI,OAAO,QAAQ,MAAM,EAAE,CAAC;AAC7C,QAAI,OAAO,MAAM,OAAO,UAAU;AAChC,aAAO;AAAA,IACT;AAEA,UAAM,KAAK,MAAM,GAAG,OAAO,MAAM,GAAG;AAEpC,QAAI,MAAM,uBAAuB,SAAS,GAAG,KAAK,CAAC,IAAI,SAAS,EAAE,GAAG;AACnE,UAAI,KAAK,EAAE;AAAA,IACb;AAEA,WAAO;AAAA,EACT,GAAG,CAAC,CAAC;AAEL,QAAM,EAAE,MAAM,UAAU,WAAW,oBAAoB,IAAI;AAAA,IACzD,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,gBAAgB,EAAE,EAAE;AAAA,IAC5C;AAAA;AAAA;AAAA,MAGE,MAAM,gBAAgB,WAAW,KAAK,CAAC;AAAA,IACzC;AAAA,EACF;AAEA,QAAM,EAAE,QAAQ,CAAC,EAAE,IAAI,YAAY,CAAC;AAEpC,QAAM,EAAE,SAAS,IAAI,oCAAoC,OAAO;AAAA,IAC9D,kBAAkB,CAAC,EAAE,KAAK,OAAO,EAAE,WAAU,6BAAM,YAAY,cAAa,CAAC,EAAE;AAAA,EACjF,CAAC;AAED,QAAM,YAAY,YAAY,QAAQ;AAAA,IACpC,aAAa;AAAA,EACf,CAAC;AAED,QAAM,mBAAyB,cAAQ,MAAM;AAC3C,UAAM,CAAC,EAAE,YAAY,EAAE,SAAS,CAAC,EAAE,IAAI,EAAE,QAAQ,CAAC,EAAE,EAAE,CAAC,IAAI,eAAe;AAAA,MACxE,CAAC,eACC,WAAW,WAAW,2CACtB,WAAW,YAAY;AAAA,IAC3B;AAEA,UAAM,gBAAgB,OAAO,OAAO,CAAC,UAAU;AAC7C,YAAM,YAAY,WAAW,KAAK,KAAK,CAAC;AAExC,aAAO,UAAU,QAAQ,CAAC,oBAAoB,SAAS,UAAU,IAAI;AAAA,IACvE,CAAC;AAED,WACE;AAAA,MACE;AAAA,MACA;AAAA,MACA,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAI,oBAAoB,iBAAiB,CAAC;AAAA,IAC5C,EACG,IAAI,CAAC,SAAS;AACb,YAAM,YAAY,WAAW,IAAI;AAEjC,UAAI,oBAAoB,SAAS,UAAU,IAAI,GAAG;AAChD,eAAO;AAAA,MACT;AAEA,YAAM,EAAE,WAAW,gBAAgB,IAAI,MAAM,IAAI,SAAS,IAAI,EAAE;AAEhE,UAAI,SAAyB;AAAA,QAC3B;AAAA,QACA,OAAO,SAAS;AAAA,QAChB,WAAW,aAAa,WAAW,eAAe,EAAE,SAAS,YAAY,CAAC,EAAE,CAAC;AAAA;AAAA,QAE7E,MAAM,UAAU;AAAA,MAClB;AAEA,UACE,UAAU,SAAS,cACnB,YAAY,aACZ,UAAU,WAAW,eACrB;AACA,iBAAS;AAAA,UACP,GAAG;AAAA,UACH,OAAO;AAAA,UACP,SAAS,MAAM,IAAI,CAAC,UAAU;AAAA,YAC5B,OAAO,eAAe,IAAI;AAAA,YAC1B,OAAO,KAAK,GAAG,SAAS;AAAA,UAC1B,EAAE;AAAA,UACF,WAAW;AAAA,YACT;AAAA,cACE,OAAO,cAAc;AAAA,gBACnB,IAAI;AAAA,gBACJ,gBAAgB;AAAA,cAClB,CAAC;AAAA,cACD,OAAO;AAAA,YACT;AAAA,YACA;AAAA,cACE,OAAO,cAAc;AAAA,gBACnB,IAAI;AAAA,gBACJ,gBAAgB;AAAA,cAClB,CAAC;AAAA,cACD,OAAO;AAAA,YACT;AAAA,UACF;AAAA,UACA,WAAW;AAAA,YACT,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,QACF;AAAA,MACF;AAEA,UAAI,UAAU,SAAS,eAAe;AACpC,iBAAS;AAAA,UACP,GAAG;AAAA,UACH,SAAS,UAAU,KAAK,IAAI,CAAC,WAAW;AAAA,YACtC,OAAO;AAAA,YACP;AAAA,UACF,EAAE;AAAA,QACJ;AAAA,MACF;AAEA,aAAO;AAAA,IACT,CAAC,EACA,OAAO,OAAO,EACjB,SAAS,CAAC,GAAG,MAAM,UAAU,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC;AAAA,EAC1D,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,QAAM,eAAe,CAAC,WAAoB;AACxC,QAAI,QAAQ;AACV,iBAAW,mBAAmB;AAAA,IAChC;AAAA,EACF;AAEA,QAAM,qBAAgD,CAAC,SAAS;AAC9D,UAAM,YAAY,WAAW,KAAK,IAAI;AAEtC,QAAI,WAAW;AACb,iBAAW,oBAAoB;AAAA,QAC7B,aAAa,UAAU,SAAS;AAAA,MAClC,CAAC;AAAA,IACH;AAAA,EACF;AAEA,aACE;AAAA,IAAC,QAAQ;AAAA,IAAR;AAAA,MACC;AAAA,MACA,SAAS;AAAA,MACT;AAAA,MACA,UAAU;AAAA,MAEV;AAAA,oCAAC,QAAQ,SAAR,EAAgB;AAAA,YACjB,wBAAC,QAAQ,SAAR,EAAgB;AAAA,YACjB,wBAAC,QAAQ,MAAR,EAAa;AAAA;AAAA;AAAA,EAChB;AAEJ;AAMA,IAAM,mBAAmB,CAAC,EAAE,KAAK,MAA+B;AAC9D,QAAM,CAAC,UAAU,WAAW,IAAU,eAAS,EAAE;AACjD,QAAM,CAAC,QAAQ,SAAS,IAAU,eAAS,EAAE;AAC7C,QAAM,EAAE,cAAc,IAAI,QAAQ;AAElC,QAAM,kBAAkB,YAAY,QAAQ,GAAG;AAE/C,QAAM,EAAE,MAAM,UAAU,IAAI,cAAc;AAAA,IACxC;AAAA,IACA,IAAI;AAAA,EACN,CAAC;AACD,QAAM,QAAQ,SAAS,IAAI;AAE3B,QAAM,mBAAmB,CAAC,WAAqB;AAC7C,QAAI,CAAC,QAAQ;AACX,kBAAY,EAAE;AAAA,IAChB;AAAA,EACF;AAEA,QAAM,EAAE,QAAQ,CAAC,GAAG,WAAW,IAAI,QAAQ,CAAC;AAC5C,QAAM,EAAE,YAAY,GAAG,OAAO,EAAE,IAAI,cAAc,CAAC;AAEnD,aACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,MAAM;AAAA,MACb,cAAY,cAAc;AAAA,QACxB,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,UAAU,CAAC,UAAU,MAAM,SAAS,MAAM,KAAK;AAAA,MAC/C,SAAS;AAAA,MACT,YAAY,MAAM,YAAY,WAAW,EAAE;AAAA,MAC3C,cAAc,OAAO;AAAA,MACrB,eAAe,CAAC,MAA2C;AACzD,kBAAU,EAAE,cAAc,KAAK;AAAA,MACjC;AAAA,MAEC,gBAAM,IAAI,CAAC,SAAS;AACnB,mBACE,wBAAC,UAA6B,OAAO,KAAK,GAAG,SAAS,GACnD,yBAAe,IAAI,KADD,KAAK,EAE1B;AAAA,MAEJ,CAAC;AAAA;AAAA,EACH;AAEJ;;;ACjRA,qBAAoB;;;ACApB,sBAAqB;AAUrB,IAAM,YAAY,CAAC,EAAE,MAAM,MAAM,MAAsB;AACrD,QAAM,EAAE,YAAY,YAAY,aAAa,IAAI,QAAQ;AACzD,MAAI,iBAAiB;AAErB,MAAI,SAAS,QAAQ;AACnB,qBAAiB,WAAW,SAAS,KAAK,GAAG,EAAE,WAAW,OAAO,CAAC;AAAA,EACpE;AAEA,MAAI,SAAS,YAAY;AACvB,qBAAiB,WAAW,OAAO,EAAE,WAAW,QAAQ,WAAW,QAAQ,CAAC;AAAA,EAC9E;AAEA,MAAI,SAAS,QAAQ;AACnB,UAAM,CAAC,MAAM,QAAQ,MAAM,IAAI,MAAM,MAAM,GAAG;AAC9C,UAAM,OAAO,oBAAI,KAAK;AACtB,SAAK,SAAS,IAAI;AAClB,SAAK,WAAW,MAAM;AACtB,SAAK,WAAW,MAAM;AAEtB,qBAAiB,WAAW,MAAM;AAAA,MAChC,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAEA,MAAI,CAAC,SAAS,SAAS,EAAE,SAAS,IAAI,GAAG;AACvC,qBAAiB,aAAa,OAAO;AAAA;AAAA;AAAA,MAGnC,uBAAuB;AAAA,IACzB,CAAC;AAAA,EACH;AAEA,MAAI,CAAC,WAAW,YAAY,EAAE,SAAS,IAAI,GAAG;AAC5C,qBAAiB,aAAa,OAAO,EAAE,uBAAuB,EAAE,CAAC;AAAA,EACnE;AAEA,aAAO,gBAAAC,SAAS,cAAc;AAChC;;;ACvBQ,IAAAC,sBAAA;AARR,IAAM,kBAAkB,CAAC,EAAE,SAAS,UAAU,MAA4B;AACxE,MAAI,CAAC,WAAW;AACd,WAAO;AAAA,EACT;AAEA,aACE,yBAAC,eAAQ,OAAO,QAAQ,UAAU,IAAI,GACpC,uCAAC,cAAW,UAAS,SAAQ,WAAU,cAAa,UAAQ,MAC1D,uCAAC,aAAU,MAAM,UAAU,MAAM,OAAO,QAAQ,UAAU,IAAI,GAAG,GACnE,GACF;AAEJ;AAUA,IAAM,sBAAsB,CAAC,EAAE,SAAS,UAAU,MAAgC;AAChF,QAAM,EAAE,cAAc,IAAI,QAAQ;AAElC,MAAI,CAAC,WAAW;AACd,WAAO;AAAA,EACT;AAEA,aACE,0BAAC,KAAK,MAAL,EACC;AAAA,kCAAC,KAAK,SAAL,EAAa,SAAS,CAAC,MAAM,EAAE,gBAAgB,GAC9C;AAAA,mCAAC,SAAO,kBAAQ,QAAO;AAAA,MACtB;AAAA,QACC;AAAA,UACE,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,EAAE,QAAQ,QAAQ,OAAO;AAAA,MAC3B;AAAA,OACF;AAAA,QACA,yBAAC,KAAK,SAAL,EACE,kBAAQ,IAAI,CAAC,aACZ,yBAAC,KAAK,MAAL,EAAwB,UAAQ,MAC/B,uCAAC,cAAW,UAAS,SAAQ,UAAQ,MACnC,uCAAC,aAAU,MAAM,UAAU,MAAM,OAAO,KAAK,UAAU,IAAI,GAAG,GAChE,KAHc,KAAK,EAIrB,CACD,GACH;AAAA,KACF;AAEJ;;;AC9BM,IAAAC,sBAAA;AAVN,IAAM,mBAAmB,CAAC,QAAiB,OAAO,IAAI,CAAC,MAAM,MAAM,IAAI,UAAU,CAAC,IAAI;AAEtF,IAAM,cAAc,CAAC,EAAE,KAAK,MAAM,iBAAiB,MAAM,KAAK,QAAQ,MAAwB;AA/B9F;AAgCE,QAAM,UAAU,4BAA4B,GAAG;AAE/C,MAAI,KAAK,SAAS,OAAO,GAAG;AAC1B,UAAM,aAAY,wCAAS,cAAT,mBAAoB;AACtC,UAAM,WAAW,4BAA4B,SAAS,KAAK;AAE3D,eACE;AAAA,MAAC,OAAO;AAAA,MAAP;AAAA,QACC,KAAK;AAAA,QACL,KAAK,mBAAmB;AAAA,QACxB,UAAU,mBAAmB;AAAA,QAC7B,SAAO;AAAA;AAAA,IACT;AAAA,EAEJ;AAEA,QAAM,gBAAgB,iBAAiB,GAAG;AAC1C,QAAM,WAAW,KAAK,SAAS,MAAM,GAAG,KAAK,UAAU,GAAG,GAAG,CAAC,QAAQ;AAEtE,aACE,yBAAC,eAAQ,aAAa,UACpB,uCAAC,eAAa,yBAAc,GAC9B;AAEJ;AAEA,IAAM,cAAc,CAAC,EAAE,SAAS,MAAqC;AACnE,aACE;AAAA,IAAC;AAAA;AAAA,MACC,KAAI;AAAA,MACJ,UAAS;AAAA,MACT,cAAa;AAAA,MACb,OAAM;AAAA,MACN,QAAO;AAAA,MACP,aAAY;AAAA,MACZ,YAAW;AAAA,MACX,aAAY;AAAA,MACZ,gBAAe;AAAA,MACf,YAAW;AAAA,MAEX,uCAAC,kBAAe,SAAQ,SAAQ,WAAU,cACvC,UACH;AAAA;AAAA,EACF;AAEJ;AAEA,IAAM,iBAAiB,GAA4B,UAAU;AAAA;AAAA;AAAA;AAa7D,IAAM,gBAAgB,CAAC,EAAE,QAAQ,MAA0B;AACzD,aACE,yBAAC,OAAO,OAAP,EACE,kBAAQ,IAAI,CAAC,MAAM,UAAU;AAC5B,UAAM,MAAM,GAAG,KAAK,EAAE,GAAG,KAAK;AAE9B,QAAI,UAAU,GAAG;AACf,YAAM,iBAAiB,IAAI,QAAQ,SAAS,CAAC;AAE7C,iBAAO,yBAAC,eAAuB,4BAAN,GAAqB;AAAA,IAChD;AAEA,QAAI,QAAQ,GAAG;AACb,aAAO;AAAA,IACT;AAEA,eAAO,yBAAC,eAAuB,GAAG,QAAT,GAAe;AAAA,EAC1C,CAAC,GACH;AAEJ;;;AChHA,IAAAC,SAAuB;AAoBnB,IAAAC,sBAAA;AAFJ,IAAM,iBAAiB,CAAC,EAAE,WAAW,QAAQ,MAA2B;AACtE,aACE,yBAAC,cAAW,UAAS,SAAQ,WAAU,cAAa,UAAQ,MACzD,2BAAiB,SAAS,SAAS,GACtC;AAEJ;AAYA,IAAM,mBAAmB,CAAC,EAAE,WAAW,SAAS,OAAO,KAAK,MAA6B;AACvF,QAAM,EAAE,MAAM,IAAI,OAAO;AACzB,QAAM,EAAE,cAAc,IAAI,QAAQ;AAClC,QAAM,EAAE,aAAa,IAAI,YAAY;AACrC,QAAM,CAAC,QAAQ,SAAS,IAAU,gBAAS,KAAK;AAEhD,QAAM,CAAC,WAAW,IAAI,KAAK,MAAM,GAAG;AAEpC,QAAM,EAAE,MAAM,UAAU,IAAI;AAAA,IAC1B;AAAA,MACE;AAAA,MACA,IAAI;AAAA,MACJ;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAM,CAAC;AAAA,MACP,2BAA2B;AAAA,IAC7B;AAAA,EACF;AAEA,QAAM,eAAe,MAAM,QAAQ,OAAO,IAAI,QAAQ,SAAS,QAAQ;AAEvE,EAAM,iBAAU,MAAM;AACpB,QAAI,MAAM;AACR;AAAA,QACE,cAAc;AAAA,UACZ,IAAI,eAAe,8BAA8B;AAAA,UACjD,gBAAgB;AAAA,QAClB,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF,GAAG,CAAC,MAAM,eAAe,YAAY,CAAC;AAEtC,aACE,0BAAC,KAAK,MAAL,EAAU,cAAc,CAACC,YAAW,UAAUA,OAAM,GACnD;AAAA,iCAAC,KAAK,SAAL,EAAa,SAAS,CAAC,MAAM,EAAE,gBAAgB,GAC9C,uCAAC,cAAW,OAAO,EAAE,QAAQ,UAAU,GAAG,WAAU,cAAa,YAAW,WACzE,yBAAe,IACZ;AAAA,MACE;AAAA,QACE,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,EAAE,QAAQ,aAAa;AAAA,IACzB,IACA,KACN,GACF;AAAA,QACA,0BAAC,KAAK,SAAL,EACE;AAAA,uBACC,yBAAC,KAAK,MAAL,EAAU,UAAQ,MACjB,uCAAC,UAAO,OAAK,MACV,wBAAc;AAAA,QACb,IAAI,eAAe,gCAAgC;AAAA,QACnD,gBAAgB;AAAA,MAClB,CAAC,GACH,GACF;AAAA,OAED,6BAAM,gBACL,0DACG;AAAA,aAAK,QAAQ,IAAI,CAAC,cACjB,yBAAC,KAAK,MAAL,EACC,uCAAC,cAAW,UAAS,SAAQ,UAAQ,MAClC,2BAAiB,OAAO,SAAS,GACpC,KAHc,MAAM,UAItB,CACD;AAAA,SAEA,6BAAM,gBAAc,6BAAM,WAAW,SAAQ,UAC5C;AAAA,UAAC,KAAK;AAAA,UAAL;AAAA,YACC,iBAAa;AAAA,YACb,cAAY,cAAc;AAAA,cACxB,IAAI,eAAe,6BAA6B;AAAA,cAChD,gBAAgB;AAAA,YAClB,CAAC;AAAA,YAED,uCAAC,cAAW,eAAC;AAAA;AAAA,QACf;AAAA,SAEJ;AAAA,OAEJ;AAAA,KACF;AAEJ;;;AJtGM,IAAAC,sBAAA;AAHN,IAAM,cAAc,CAAC,EAAE,SAAS,WAAW,WAAW,OAAO,KAAK,MAAwB;AACxF,MAAI,CAAC,WAAW,SAAS,WAAW,SAAS,GAAG;AAC9C,eACE;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,aAAa,UAAU,SAAU,aAA6B,WAAW;AAAA,QACzE,cAAc,UAAU,SAAU,aAA6B,WAAW;AAAA,QAC3E;AAAA;AAAA,IAED;AAAA,EAEJ;AAEA,UAAQ,UAAU,MAAM;AAAA,IACtB,KAAK;AACH,UAAI,CAAC,UAAU,UAAU;AACvB,mBAAO,yBAAC,eAAa,GAAG,SAAS;AAAA,MACnC;AAEA,iBAAO,yBAAC,iBAAc,SAAkB;AAAA,IAE1C,KAAK,YAAY;AACf,UAAI,iBAAiB,UAAU,QAAQ,GAAG;AACxC,mBAAO,yBAAC,kBAAe,WAAsB,SAAkB;AAAA,MACjE;AAEA,iBAAO,yBAAC,oBAAiB,OAAc,WAAsB,SAAkB,MAAY;AAAA,IAC7F;AAAA,IAEA,KAAK;AACH,UAAI,UAAU,YAAY;AACxB,mBAAO,yBAAC,uBAAoB,WAAsB,SAAkB;AAAA,MACtE;AAEA,iBAAO,yBAAC,mBAAgB,WAAsB,SAAkB;AAAA,IAElE,KAAK;AACH,iBACE,yBAAC,eAAQ,aAAa,SACpB,uCAAC,cAAW,UAAS,SAAQ,UAAQ,MAAC,WAAU,cAC9C,uCAAC,aAAU,MAAM,UAAU,MAAM,OAAO,SAAS,GACnD,GACF;AAAA,IAGJ;AACE,iBACE,yBAAC,cAAW,UAAS,SAAQ,UAAQ,MAAC,WAAU,cAC9C,uCAAC,aAAU,MAAM,UAAU,MAAM,OAAO,SAAS,GACnD;AAAA,EAEN;AACF;AAEA,IAAM,aAAa,CACjB,SACA,WACA,cACG;AACH,MAAI,UAAU,SAAS,aAAa;AAGlC,QAAI,UAAU,cAAc,CAAC,WAAW;AACtC,cAAO,mCAAS,UAAS;AAAA,IAC3B;AAEA,UAAM,QAAQ,mCAAU,UAAU;AAGlC,QAAI,UAAU,SAAS,QAAQ,CAAC,CAAC,QAAW,IAAI,EAAE,SAAS,KAAK,GAAG;AACjE,aAAO;AAAA,IACT;AAEA,WAAO,KAAC,eAAAC,SAAQ,KAAK;AAAA,EACvB;AAEA,MAAI,UAAU,SAAS,YAAY;AACjC,QAAI,iBAAiB,UAAU,QAAQ,GAAG;AACxC,aAAO,KAAC,eAAAA,SAAQ,OAAO;AAAA,IACzB;AAEA,QAAI,MAAM,QAAQ,OAAO,GAAG;AAC1B,aAAO,QAAQ,SAAS;AAAA,IAC1B;AAEA,YAAO,mCAAS,SAAQ;AAAA,EAC1B;AAMA,MAAI,CAAC,WAAW,WAAW,SAAS,QAAQ,EAAE,SAAS,UAAU,IAAI,GAAG;AACtE,WAAO,OAAO,YAAY;AAAA,EAC5B;AAEA,MAAI,UAAU,SAAS,WAAW;AAChC,WAAO,YAAY;AAAA,EACrB;AAEA,SAAO,KAAC,eAAAA,SAAQ,OAAO;AACzB;AAEA,IAAM,mBAAmB,CACvB,SACG,CAAC,YAAY,aAAa,eAAe,EAAE,SAAS,IAAI;;;AK3G7D,gBAA0B;AA8BhB,IAAAC,sBAAA;AAnBV,IAAM,mBAAmB,CAAC,UAAiC;AACzD,QAAM,cAAc;AAAA,IAClB,CAAC,UAAO;AA3BZ;AA2Be,0BAAM,UAAU,YAAY,mBAA5B,mBAA4C,kCAAiC,CAAC;AAAA;AAAA,EAC3F;AACA,QAAM,CAAC,EAAE,MAAM,CAAC,IAAI,eAAsD;AAC1E,QAAM,EAAE,cAAc,IAAI,QAAQ;AAClC,QAAM;AAAA,IACJ,gBAAgB,EAAE,iBAAiB;AAAA,EACrC,IAAI,QAAQ,WAAW;AAEvB,aACE,0BAAC,QAAQ,MAAR,EACC;AAAA,iCAAC,QAAQ,SAAR,EACC;AAAA,MAAC;AAAA;AAAA,QACC,OAAO,cAAc;AAAA,UACnB,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB,CAAC;AAAA,QAED,uCAAC,iBAAI;AAAA;AAAA,IACP,GACF;AAAA,QACA,yBAAC,QAAQ,SAAR,EAAgB,MAAK,UAAS,OAAM,OAAM,YAAY,GACrD,wCAAC,QAAK,YAAW,WAAU,WAAU,UAAS,SAAS,GAAG,KAAK,GAC5D;AAAA,6BACC;AAAA,QAAC;AAAA;AAAA,UACC,MAAK;AAAA,UACL,eAAW,yBAAC,iBAAS;AAAA,UACrB,SAAQ;AAAA,UACR,KAAK;AAAA,UACL,IAAI;AAAA,YACF,UAAU;AAAA,YACV,QAAQ,MAAM,cACV,qBAAU,EAAE,SAAS,MAAM,QAAQ,GAAG,EAAE,QAAQ,MAAM,CAAC,IACvD;AAAA,UACN;AAAA,UAEC,wBAAc;AAAA,YACb,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAClB,CAAC;AAAA;AAAA,MACH,IACE;AAAA,UACJ,yBAAC,eAAa,GAAG,OAAO;AAAA,OAC1B,GACF;AAAA,KACF;AAEJ;AAQA,IAAM,cAAc,CAAC,EAAE,UAAU,CAAC,GAAG,cAAc,WAAW,MAAwB;AACpF,QAAM,EAAE,WAAW,IAAI,YAAY;AACnC,QAAM,EAAE,eAAe,OAAO,IAAI,QAAQ;AAE1C,QAAM,EAAE,QAAQ,MAAM,IAAI,OAAO;AACjC,QAAM,EAAE,KAAK,IAAI,kBAAkB,KAAK;AAExC,QAAM,YAAY,YAAY,QAAQ;AAAA,IACpC,aAAa;AAAA,EACf,CAAC;AAED,QAAM,cAAa,iCAAQ,eAAc,CAAC;AAE1C,QAAM,UAAU,OAAO,KAAK,UAAU,EACnC,OAAO,CAAC,SAAS,8BAA8B,WAAW,IAAI,CAAC,CAAC,EAChE,IAAI,CAAC,SAAM;AAhGhB;AAgGoB;AAAA,MACd;AAAA,MACA,SAAO,UAAK,UAAU,IAAI,MAAnB,mBAAsB,UAAS;AAAA,IACxC;AAAA,GAAE,EACD,KAAK,CAAC,GAAG,MAAM,UAAU,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC;AAErD,QAAM,eAAe,CAAC,SAAiB;AACrC,eAAW,0BAA0B;AAMrC,UAAM,aAAa,QAAQ,SAAS,IAAI,IACpC,QAAQ,OAAO,CAAC,WAAW,WAAW,IAAI,IAC1C,CAAC,GAAG,SAAS,IAAI;AAErB,eAAW,UAAU;AAAA,EACvB;AAEA,QAAM,cAAc,MAAM;AACxB,iBAAa;AAAA,EACf;AAEA,aACE;AAAA,IAAC;AAAA;AAAA,MACC,KAAI;AAAA,MACJ,WAAU;AAAA,MACV,YAAW;AAAA,MACX,KAAK;AAAA,MACL,aAAa;AAAA,MACb,WAAW;AAAA,MACX,UAAU;AAAA,MAEV;AAAA,sCAAC,QAAK,gBAAe,iBACnB;AAAA,uCAAC,cAAW,KAAI,UAAS,SAAQ,MAAK,YAAW,QAC9C,wBAAc;AAAA,YACb,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAClB,CAAC,GACH;AAAA,cAEA,yBAAC,cAAW,SAAS,aAClB,wBAAc;AAAA,YACb,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAClB,CAAC,GACH;AAAA,WACF;AAAA,YAEA,yBAAC,QAAK,WAAU,UAAS,YAAW,WACjC,kBAAQ,IAAI,CAAC,WAAW;AACvB,gBAAM,WAAW,QAAQ,SAAS,OAAO,IAAI;AAE7C,qBACE;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,KAAK;AAAA,cACL,YAAY,WAAW,eAAe;AAAA,cACtC,WAAS;AAAA,cACT,SAAS;AAAA,cAGT;AAAA,gBAAC;AAAA;AAAA,kBACC,iBAAiB,MAAM,aAAa,OAAO,IAAI;AAAA,kBAC/C,SAAS;AAAA,kBACT,MAAM,OAAO;AAAA,kBAEb,uCAAC,cAAW,UAAU,GAAI,iBAAO,OAAM;AAAA;AAAA,cACzC;AAAA;AAAA,YARK,OAAO;AAAA,UASd;AAAA,QAEJ,CAAC,GACH;AAAA;AAAA;AAAA,EACF;AAEJ;;;APmCW,IAAAC,sBAAA;AApJX,IAAM,EAAE,uBAAuB,IAAI;AAKnC,IAAM,sBAAsB,GAAO,QAAQ,MAAM;AAAA;AAAA;AAIjD,IAAM,eAAe,MAAM;AApE3B;AAqEE,QAAM,EAAE,WAAW,IAAI,YAAY;AACnC,QAAM,WAAW,YAAY;AAC7B,QAAM,EAAE,cAAc,IAAI,QAAQ;AAClC,QAAM,EAAE,mBAAmB,IAAI,gBAAgB;AAC/C,QAAM,EAAE,yBAAyB,eAAe,IAAI,mBAAmB,cAAc;AAErF,QAAM,EAAE,gBAAgB,OAAO,OAAO,IAAI,OAAO;AACjD,QAAM,EAAE,KAAK,IAAI,kBAAkB,KAAK;AAExC,QAAM,CAAC,kBAAkB,mBAAmB,IAAU,gBAA4B,CAAC,CAAC;AAEpF,QAAM,aAAa,QAAQ,KAAK,MAAM;AACtC,EAAM,iBAAU,MAAM;AAKpB,QAAI,KAAC,eAAAC,SAAQ,YAAY,KAAK,MAAM,GAAG;AACrC,0BAAoB,KAAK,MAAM;AAAA,IACjC;AAAA,EACF,GAAG,CAAC,KAAK,QAAQ,UAAU,CAAC;AAE5B,QAAM,mBAAmB,CAAC,YAAsB;AAC9C;AAAA,MACE,gCAAgC,SAAS,OAAQ,YAAY,KAAK,SAAS;AAAA,IAC7E;AAAA,EACF;AAEA,QAAM,CAAC,EAAE,MAAM,CAAC,IAAI,eAKjB;AAAA,IACD,MAAM;AAAA,IACN,UAAU,KAAK,SAAS,SAAS,SAAS;AAAA,IAC1C,MAAM,KAAK,SAAS,gBAChB,GAAG,KAAK,SAAS,aAAa,IAAI,KAAK,SAAS,gBAAgB,KAChE;AAAA,EACN,CAAC;AAED,QAAM,SAAe,eAAQ,MAAM,iBAAiB,KAAK,GAAG,CAAC,KAAK,CAAC;AAEnE,QAAM,EAAE,MAAM,OAAO,WAAW,IAAI,wBAAwB;AAAA,IAC1D;AAAA,IACA;AAAA,EACF,CAAC;AAKD,EAAM,iBAAU,MAAM;AACpB,QAAI,OAAO;AACT,yBAAmB;AAAA,QACjB,MAAM;AAAA,QACN,SAAS,eAAe,KAAK;AAAA,MAC/B,CAAC;AAAA,IACH;AAAA,EACF,GAAG,CAAC,OAAO,gBAAgB,kBAAkB,CAAC;AAE9C,QAAM,EAAE,UAAU,CAAC,GAAG,WAAW,IAAI,QAAQ,CAAC;AAE9C,EAAM,iBAAU,MAAM;AACpB,QAAI,cAAc,WAAW,YAAY,KAAK,WAAW,OAAO,WAAW,WAAW;AACpF;AAAA,QACE;AAAA,UACE,YAAQ,sBAAU;AAAA,YAChB,GAAG;AAAA,YACH,MAAM,WAAW;AAAA,UACnB,CAAC;AAAA,QACH;AAAA,QACA,EAAE,SAAS,KAAK;AAAA,MAClB;AAAA,IACF;AAAA,EACF,GAAG,CAAC,YAAY,eAAe,OAAO,QAAQ,CAAC;AAE/C,QAAM,EAAE,UAAU,IAAI,gBAAgB,gBAAgB,CAAC,EAAE,WAAAC,WAAU,OAAO;AAAA,IACxE,WAAAA;AAAA,EACF,EAAE;AAEF,QAAM,mBAAmB,aAAa,gBAAgB,CAAC,EAAE,kBAAAC,kBAAiB,MAAMA,iBAAgB;AAIhG,QAAM,eAAqB,eAAQ,MAAM;AAzJ3C,QAAAC;AA0JI,UAAM,UAAU,iBAAiB,wBAAwB;AAAA,MACvD;AAAA,MACA,QAAQ;AAAA,IACV,CAAC;AAED,UAAM,mBAAmB,QAAQ,iBAAiB,IAAqB,CAAC,WAAW;AA/JvF,UAAAA;AAsKM,YAAM,cACJ,OAAO,OAAO,UAAU,WACpB;AAAA,QACE,IAAI,iCAAiC,KAAK,IAAI,OAAO,IAAI;AAAA,QACzD,gBAAgB,OAAO;AAAA,MACzB,IACA,OAAO;AAEb,aAAO;AAAA,QACL,GAAG;AAAA,QACH,OAAO,cAAc,WAAW;AAAA,QAChC,MAAM,GAAG,OAAO,IAAI,KAAGA,MAAA,OAAO,cAAP,gBAAAA,IAAkB,QAAO,IAAI,OAAO,UAAU,IAAI,KAAK,EAAE;AAAA,MAClF;AAAA,IACF,CAAC;AAED,SAAIA,MAAA,iCAAQ,YAAR,gBAAAA,IAAiB,iBAAiB;AACpC,uBAAiB,KAAK;AAAA,QACpB,WAAW;AAAA,UACT,MAAM;AAAA,QACR;AAAA,QACA,MAAM;AAAA,QACN,OAAO,cAAc;AAAA,UACnB,IAAI,eAAe,sCAAsC;AAAA,UACzD,gBAAgB;AAAA,QAClB,CAAC;AAAA,QACD,YAAY;AAAA,QACZ,UAAU;AAAA,MACZ,CAA2B;AAAA,IAC7B;AAEA,WAAO;AAAA,EACT,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,KACA,sCAAQ,YAAR,mBAAiB;AAAA,IACjB;AAAA,EACF,CAAC;AAED,MAAI,YAAY;AACd,eAAO,yBAAC,KAAK,SAAL,EAAa;AAAA,EACvB;AAEA,MAAI,OAAO;AACT,eAAO,yBAAC,KAAK,OAAL,EAAW;AAAA,EACrB;AAEA,QAAM,oBAAmB,iCAAQ,KAAK,eAClC,cAAc,EAAE,IAAI,OAAO,KAAK,aAAa,gBAAgB,OAAO,KAAK,YAAY,CAAC,IACtF,cAAc;AAAA,IACZ,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB,CAAC;AAEL,QAAM,iBAAiB,CAAC,OAA6B,MAAM;AACzD,eAAW,uBAAuB;AAClC,aAAS;AAAA,MACP,UAAU,GAAG,SAAS;AAAA,MACtB,YAAQ,sBAAU,EAAE,SAAS,MAAM,QAAQ,CAAC;AAAA,IAC9C,CAAC;AAAA,EACH;AAEA,MAAI,CAAC,cAAc,QAAQ,WAAW,GAAG;AACvC,eACE,0DACE;AAAA,mCAAC,MAAe,eAAe,cAA9B,EAEC,uCAAC,OAAI,YAAY,GAAG,GACtB;AAAA,UACA,0BAAC,KAAK,MAAL,EACC;AAAA,qCAAC,KAAK,OAAL,EAAY,aAAG,gBAAgB,IAAG;AAAA,YACnC;AAAA,UAAC;AAAA;AAAA,YACC,eAAe,gBAAY,yBAAC,gBAAa,IAAK;AAAA,YAC9C,UAAU;AAAA,cACR;AAAA,gBACE,IAAI,eAAe,gCAAgC;AAAA,gBACnD,gBACE;AAAA,cACJ;AAAA,cACA,EAAE,QAAQ,yCAAY,MAAM;AAAA,YAC9B;AAAA,YACA,OAAO;AAAA,YACP,sBAAkB,yBAAC,cAAW;AAAA;AAAA,QAChC;AAAA,YACA;AAAA,UAAC,QAAQ;AAAA,UAAR;AAAA,YACC,gBACE,0DACE;AAAA,2CAAC,iBAAc,MAAK,oBAAmB;AAAA,kBACvC;AAAA,gBAAC;AAAA;AAAA,kBACC,YAAY;AAAA,kBACZ,cAAc,MAAM,oBAAoB,KAAK,MAAM;AAAA,kBACnD,SAAS,iBAAiB,IAAI,CAAC,WAAW,OAAO,IAAI;AAAA;AAAA,cACvD;AAAA,eACF;AAAA,YAEF,kBACE,0DACG;AAAA,mBAAK,SAAS,kBACb;AAAA,gBAAC;AAAA;AAAA,kBACC,UAAU,QAAQ,WAAW;AAAA,kBAC7B,OAAO;AAAA,oBACL,EAAE,IAAI,8BAA8B,gBAAgB,sBAAsB;AAAA,oBAC1E,EAAE,QAAQ,iBAAiB;AAAA,kBAC7B;AAAA,kBACA,aAAa,cAAc;AAAA,oBACzB,IAAI;AAAA,oBACJ,gBAAgB;AAAA,kBAClB,CAAC;AAAA,kBACD,cAAa;AAAA;AAAA,cACf;AAAA,cAED,KAAK,SAAS,cAAc,aAC3B,yBAAC,eAAQ,UAAU,QAAQ,WAAW,GAAG,QAAgB,IACvD;AAAA,eACN;AAAA;AAAA,QAEJ;AAAA,YACA,yBAAC,QAAQ,SAAR,EACC,uCAAC,OAAI,YAAW,YAAW,QAAO,gBAAe,WAAS,MACxD;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ,gBAAY,yBAAC,gBAAa,SAAQ,aAAY,IAAK;AAAA,YAC3D,SAAS,cAAc;AAAA,cACrB,IAAI;AAAA,cACJ,gBAAgB;AAAA,YAClB,CAAC;AAAA,YACD,WAAS;AAAA,YACT,UAAM,yBAAC,gBAAe,OAAM,SAAQ;AAAA;AAAA,QACtC,GACF,GACF;AAAA,SACF;AAAA,OACF;AAAA,EAEJ;AAEA,aACE,0BAAC,KAAK,MAAL,EACC;AAAA,iCAAC,KAAK,OAAL,EAAY,aAAG,gBAAgB,IAAG;AAAA,QACnC;AAAA,MAAC;AAAA;AAAA,QACC,eAAe,gBAAY,yBAAC,gBAAa,IAAK;AAAA,QAC9C,UAAU;AAAA,UACR;AAAA,YACE,IAAI,eAAe,gCAAgC;AAAA,YACnD,gBACE;AAAA,UACJ;AAAA,UACA,EAAE,QAAQ,yCAAY,MAAM;AAAA,QAC9B;AAAA,QACA,OAAO;AAAA,QACP,sBAAkB,yBAAC,cAAW;AAAA;AAAA,IAChC;AAAA,QACA;AAAA,MAAC,QAAQ;AAAA,MAAR;AAAA,QACC,gBACE,0DACE;AAAA,uCAAC,iBAAc,MAAK,oBAAmB;AAAA,cACvC;AAAA,YAAC;AAAA;AAAA,cACC,YAAY;AAAA,cACZ,cAAc,MAAM,oBAAoB,KAAK,MAAM;AAAA,cACnD,SAAS,iBAAiB,IAAI,CAAC,WAAW,OAAO,IAAI;AAAA;AAAA,UACvD;AAAA,WACF;AAAA,QAEF,kBACE,0DACG;AAAA,eAAK,SAAS,kBACb;AAAA,YAAC;AAAA;AAAA,cACC,UAAU,QAAQ,WAAW;AAAA,cAC7B,OAAO;AAAA,gBACL,EAAE,IAAI,8BAA8B,gBAAgB,sBAAsB;AAAA,gBAC1E,EAAE,QAAQ,iBAAiB;AAAA,cAC7B;AAAA,cACA,aAAa,cAAc;AAAA,gBACzB,IAAI;AAAA,gBACJ,gBAAgB;AAAA,cAClB,CAAC;AAAA,cACD,cAAa;AAAA;AAAA,UACf;AAAA,UAED,KAAK,SAAS,cAAc,aAC3B,yBAAC,eAAQ,UAAU,QAAQ,WAAW,GAAG,QAAgB,IACvD;AAAA,WACN;AAAA;AAAA,IAEJ;AAAA,QACA,yBAAC,QAAQ,SAAR,EACC,wCAAC,QAAK,KAAK,GAAG,WAAU,UAAS,YAAW,WAC1C;AAAA,oCAAC,MAAM,MAAN,EAAW,MAAM,SAAS,SAAS,cAAc,WAAW,YAC3D;AAAA,qCAAC,mBAAgB;AAAA,YACjB,0BAAC,MAAM,SAAN,EACC;AAAA,wCAAC,MAAM,MAAN,EACC;AAAA,yCAAC,MAAM,oBAAN,EAAyB;AAAA,YACzB,aAAa,IAAI,CAAC,eACjB,yBAAC,MAAM,YAAN,EAAoC,GAAG,UAAjB,OAAO,IAAkB,CACjD;AAAA,aACH;AAAA,cACA,yBAAC,MAAM,SAAN,EAAc;AAAA,cACf,yBAAC,MAAM,OAAN,EAAY,QAAQ,gBAAY,yBAAC,gBAAa,SAAQ,aAAY,IAAK,MAAM;AAAA,cAC9E,yBAAC,MAAM,MAAN,EACE,kBAAQ,IAAI,CAAC,QAAQ;AACpB,uBACE;AAAA,cAAC,MAAM;AAAA,cAAN;AAAA,gBACC,QAAO;AAAA,gBAEP,SAAS,eAAe,IAAI,UAAU;AAAA,gBAEtC;AAAA,+CAAC,MAAM,cAAN,EAAmB,IAAI,IAAI,IAAI;AAAA,kBAC/B,aAAa,IAAI,CAAC,EAAE,eAAe,GAAG,OAAO,MAAM;AAClD,wBAAI,OAAO,SAAS,UAAU;AAC5B,4BAAM,EAAE,OAAO,IAAI;AAEnB,iCACE,yBAAC,MAAM,MAAN,EACC,uCAAC,kBAAe,QAAgB,UAAU,eAAe,KAD1C,OAAO,IAExB;AAAA,oBAEJ;AACA,wBAAI,CAAC,aAAa,WAAW,EAAE,SAAS,OAAO,KAAK,MAAM,GAAG,EAAE,CAAC,CAAC,GAAG;AAIlE,iCACE,yBAAC,MAAM,MAAN,EACC,uCAAC,cAAW,WAAU,cACnB,cAAI,OAAO,KAAK,MAAM,GAAG,EAAE,CAAC,CAAC,IAC1B,eAAe,IAAI,OAAO,KAAK,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,IAC7C,KACN,KALe,OAAO,IAMxB;AAAA,oBAEJ;AACA,wBAAI,OAAO,kBAAkB,YAAY;AACvC,iCACE,yBAAC,MAAM,MAAN,EAEE,wBAAc,KAAK,QAAQ,EAAE,gBAAgB,MAAM,CAAC,KAFtC,OAAO,IAGxB;AAAA,oBAEJ;AACA,+BACE,yBAAC,MAAM,MAAN,EACC;AAAA,sBAAC;AAAA;AAAA,wBACC,SAAS,IAAI,OAAO,KAAK,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA,wBACtC,OAAO,IAAI;AAAA,wBACV,GAAG;AAAA;AAAA,oBACN,KALe,OAAO,IAMxB;AAAA,kBAEJ,CAAC;AAAA,sBAED,yBAAC,eAAY,SAAS,CAAC,MAAM,EAAE,gBAAgB,GAC7C,uCAAC,gBAAa,UAAU,KAAK,GAC/B;AAAA;AAAA;AAAA,cAjDK,IAAI;AAAA,YAkDX;AAAA,UAEJ,CAAC,GACH;AAAA,WACF;AAAA,SACF;AAAA,UACA;AAAA,QAAC,WAAW;AAAA,QAAX;AAAA,UACE,GAAG;AAAA,UACJ,kBAAkB,MAAM,WAAW,kCAAkC;AAAA,UAErE;AAAA,yCAAC,WAAW,UAAX,EAAoB;AAAA,gBACrB,yBAAC,WAAW,OAAX,EAAiB;AAAA;AAAA;AAAA,MACpB;AAAA,OACF,GACF;AAAA,KACF;AAEJ;AAEA,IAAM,cAAc,GAAO,MAAM,IAAI;AAAA;AAAA;AAAA;AASrC,IAAM,kBAAkB,MAAM;AA/b9B;AAgcE,QAAM,YAAY,SAAS,mBAAmB,CAAC,UAAU,MAAM,SAAS;AACxE,QAAM,CAAC,EAAE,MAAM,CAAC,IAAI,eAA0D;AAC9E,QAAM,UAAS,0CAAO,YAAP,mBAAgB,SAAhB,mBAAsB;AACrC,QAAM,aAAa,QAAQ,MAAM;AAGjC,EAAM,iBAAU,MAAM;AACpB,QAAI,eAAe,QAAQ;AACzB,gBAAU,CAAC,CAAC;AAAA,IACd;AAAA,EACF,GAAG,CAAC,WAAW,YAAY,MAAM,CAAC;AAElC,aACE,yBAAC,MAAM,WAAN,EACC,uCAAC,uBAAoB,GACvB;AAEJ;AAQA,IAAM,eAAe,CAAC,EAAE,QAAQ,MAAyB;AACvD,QAAM,EAAE,cAAc,IAAI,QAAQ;AAClC,QAAM,EAAE,WAAW,IAAI,YAAY;AACnC,QAAM,CAAC,EAAE,MAAM,CAAC,IAAI,eAAoC;AAExD,aACE;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACA,KAAK;AAAA,MACL,SAAS,MAAM;AACb,mBAAW,mBAAmB,EAAE,QAAQ,QAAQ,CAAC;AAAA,MACnD;AAAA,MACA,eAAW,yBAAC,iBAAK;AAAA,MACjB,OAAO,EAAE,gBAAgB,OAAO;AAAA,MAChC,IAAI;AAAA,QACF,UAAU;AAAA,QACV,YAAQ,sBAAU,EAAE,SAAS,MAAM,QAAQ,CAAC;AAAA,MAC9C;AAAA,MACA,UAAS;AAAA,MACT,YAAY;AAAA,MAEX,wBAAc;AAAA,QACb,IAAI,eAAe,qCAAqC;AAAA,QACxD,gBAAgB;AAAA,MAClB,CAAC;AAAA;AAAA,EACH;AAEJ;AAMA,IAAM,wBAAwB,MAAM;AAClC,QAAM,EAAE,OAAO,GAAG,IAAI,UAEnB;AACH,QAAM;AAAA,IACJ,cAAc,CAAC;AAAA,IACf;AAAA,IACA;AAAA,EACF,IAAI;AAAA,IACF,YAAY,IAAI,CAAC,YAAY;AAAA,MAC3B;AAAA,MACA,SAAS;AAAA,IACX,EAAE;AAAA,EACJ;AAEA,MAAI,WAAW;AACb,eAAO,yBAAC,KAAK,SAAL,EAAa;AAAA,EACvB;AAEA,MAAI,SAAS,CAAC,MAAM;AAClB,eAAO,yBAAC,KAAK,OAAL,EAAW;AAAA,EACrB;AAEA,aACE,yBAAC,KAAK,SAAL,EAAa,aACX,WAAC,EAAE,aAAAC,aAAY,UACd,yBAAC,gBAAa,aAAaA,cACzB,uCAAC,gBAAa,GAChB,GAEJ;AAEJ;",
  "names": ["React", "import_qs", "toString", "import_jsx_runtime", "import_jsx_runtime", "React", "import_jsx_runtime", "isOpen", "import_jsx_runtime", "isEmpty", "import_jsx_runtime", "import_jsx_runtime", "isEqual", "canCreate", "runHookWaterfall", "_a", "permissions"]
}
